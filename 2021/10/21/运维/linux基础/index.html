<!-- build time:Mon Mar 28 2022 16:08:41 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color=""><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="努力走,走到灯火通明" href="https://guyouwyh.github.io/guyouwyh/rss.xml"><link rel="alternate" type="application/atom+xml" title="努力走,走到灯火通明" href="https://guyouwyh.github.io/guyouwyh/atom.xml"><link rel="alternate" type="application/json" title="努力走,走到灯火通明" href="https://guyouwyh.github.io/guyouwyh/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="linux,操作系统"><link rel="canonical" href="https://guyouwyh.github.io/guyouwyh/2021/10/21/%E8%BF%90%E7%BB%B4/linux%E5%9F%BA%E7%A1%80/"><title>linux基础 - 运维 | GuYou = 努力走,走到灯火通明</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">linux基础</h1><div class="meta"><span class="item" title="创建时间：2021-10-21 19:43:59"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-10-21T19:43:59+08:00">2021-10-21</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>37k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>34 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">GuYou</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s2.loli.net/2021/12/15/z4byuMFYqEKQS2O.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/15/81NwWC7IL46svDA.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/15/Fdim5YeA7pl6tTj.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/15/7E2sYl8uZARyLqh.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/15/G4jpqX6zghEYZBI.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/15/fV3IslvSQ86qJpj.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%BF%90%E7%BB%B4/" itemprop="item" rel="index" title="分类于 运维"><span itemprop="name">运维</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://guyouwyh.github.io/guyouwyh/2021/10/21/%E8%BF%90%E7%BB%B4/linux%E5%9F%BA%E7%A1%80/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="故犹"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="努力走,走到灯火通明"></span><div class="body md" itemprop="articleBody"><h1 id="基础指令操作"><a class="anchor" href="#基础指令操作">#</a> 基础指令操作</h1><hr><ul><li>显示日期与时间的指令: <code>date</code></li><li>显示日历的指令: <code>cal</code></li><li>简单好用的计算机: <code>bc</code></li></ul><h2 id="显示日期的指令-date"><a class="anchor" href="#显示日期的指令-date">#</a> 显示日期的指令 - date</h2><hr><p>如果想要在命令行中知道 Linux 系统的时间，直接输入 <code>date</code> 即可。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~/bin$ <span class="token function">date</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Tue <span class="token number">30</span> Nov <span class="token number">2021</span> 03:12:32 PM UTC</pre></td></tr></table></figure><p>如果想要输出格式化的日期，可以加一些参数，比如 <code>+%Y/%m/%d</code></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~/bin$ <span class="token function">date</span> +%Y/%m/%d</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2021</span>/11/30</pre></td></tr><tr><td data-num="3"></td><td><pre>wyh@wyhlinux:~/bin$ <span class="token function">date</span> +%H:%M</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">15</span>:14</pre></td></tr></table></figure><ul><li><p>显示特定的时间</p><ul><li><code>+%s</code> : 显示当前时间的时间戳</li><li><code>+%Y</code> : 显示当前年份</li><li><code>+%m</code> : 显示当前月份</li><li><code>+%d</code> : 显示当前的日 (01-31)</li><li><code>+%A</code> : 显示当前星期几 (Sunday..Saturday)</li><li><code>+%D</code> : 直接显示日期 (mm/dd/yy)</li><li><code>%H</code> : 小时 (00..23)</li><li><code>%I</code> : 小时 (01..12)</li><li><code>%k</code> : 小时 (0..23)</li><li><code>%l</code> : 小时 (1..12)</li><li><code>%M</code> : 分钟 (00..59)</li><li><code>%S</code> : 秒 (00..61)</li></ul></li><li><p>日期加减</p><ul><li><code>date +%Y%m%d</code> : 显示现在天年月日</li><li><code>date +%Y%m%d --date=&quot;+1 day&quot;</code> : 显示后一天的日期</li><li><code>date +%Y%m%d --date=&quot;-1 day&quot;</code> : 显示前一天的日期</li><li><code>date +%Y%m%d --date=&quot;-1 month&quot;</code> : 显示上一月的日期</li><li><code>date +%Y%m%d --date=&quot;+1 month&quot;</code> : 显示下一月的日期</li><li><code>date +%Y%m%d --date=&quot;-1 year&quot;</code> : 显示前一年的日期</li><li><code>date +%Y%m%d --date=&quot;+1 year&quot;</code> : 显示下一年的日期</li></ul></li></ul><p><strong>注意，指令之后的选项除了带 <code>-</code> 号的，还有带 <code>+</code> 号的</strong></p><h2 id="显示日历的指令-call"><a class="anchor" href="#显示日历的指令-call">#</a> 显示日历的指令 - call</h2><hr><p>cal 指令的语法:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cal</span> <span class="token punctuation">[</span>month<span class="token punctuation">]</span> <span class="token punctuation">[</span>year<span class="token punctuation">]</span></pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~/bin$ <span class="token function">cal</span></pre></td></tr><tr><td data-num="2"></td><td><pre>   November <span class="token number">2021</span>      </pre></td></tr><tr><td data-num="3"></td><td><pre>Su Mo Tu We Th Fr Sa  </pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  </pre></td></tr><tr><td data-num="5"></td><td><pre> <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>  </pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>  </pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>  </pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span></pre></td></tr></table></figure><p>如果使用不存在的月份，比如 13, 就会出现提示</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~/bin$ <span class="token function">cal</span> <span class="token number">13</span> <span class="token number">2021</span></pre></td></tr><tr><td data-num="2"></td><td><pre>cal: <span class="token number">13</span> is neither a month number <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">12</span><span class="token punctuation">)</span> nor a name</pre></td></tr></table></figure><h2 id="简单好用的计算机-bc"><a class="anchor" href="#简单好用的计算机-bc">#</a> 简单好用的计算机 - bc</h2><hr><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~/bin$ <span class="token function">bc</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">bc</span> <span class="token number">1.07</span>.1</pre></td></tr><tr><td data-num="3"></td><td><pre>Copyright <span class="token number">1991</span>-1994, <span class="token number">1997</span>, <span class="token number">1998</span>, <span class="token number">2000</span>, <span class="token number">2004</span>, <span class="token number">2006</span>, <span class="token number">2008</span>, <span class="token number">2012</span>-2017 Free Software Foundation, Inc.</pre></td></tr><tr><td data-num="4"></td><td><pre>This is <span class="token function">free</span> software with ABSOLUTELY NO WARRANTY.</pre></td></tr><tr><td data-num="5"></td><td><pre>For details <span class="token builtin class-name">type</span> `warranty'. </pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">1</span>+2</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token number">5</span>-2</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token number">5</span>/2</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token number">5</span>%2</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="14"></td><td><pre>quit</pre></td></tr></table></figure><p><strong>注意：当计算完成之后，可以使用 <code>quit</code> 离开计算器。</strong></p><p>Tip:</p><p>当命令行界面里面下达指令时，会有两种主要的情况:</p><ul><li>指令会直接显示结果然后回到命令提示字符等待下一个指令的输入</li><li>进入该指令的环境，直接结束该指令才回到命令提示字符的环境</li></ul><h1 id="重要的热键"><a class="anchor" href="#重要的热键">#</a> 重要的热键</h1><hr><ul><li>[Tab]</li></ul><p>[Tab] 接在一串指令的第一个字的后面，则为<mark>命令补全</mark>；</p><p>[Tab] 接在一串指令的第二个字以后时，则为<mark>文件补全</mark></p><ul><li>[Ctrl]-c</li></ul><p>该热键的作用就是中断当前的程序，很常用哦！</p><ul><li>[Ctrl]-d</li></ul><p>该热键通常代表着：键盘输入结束，也可以来取代 exit (相当于直接是输入 exit)</p><ul><li [pageup]|[page="" down]="">[shift]+</li></ul><p>当指令输出讯息比较长的时候，可以使用 [shift]+PageUP 来往前翻页，使用 [shift]+PageDown 往后翻页</p><h1 id="linux的文件权限与目录配置"><a class="anchor" href="#linux的文件权限与目录配置">#</a> Linux 的文件权限与目录配置</h1><hr><h2 id="文件拥有者-群组-其他人"><a class="anchor" href="#文件拥有者-群组-其他人">#</a> 文件拥有者、群组、其他人</h2><hr><p><mark>文件拥有者</mark>：即文件创建的用户，当一个用户创建完文件之后，该用户即为该文件的拥有者</p><p><mark>群组</mark>：一个群组中包含多个用户，对于一个文件来说，如果访问的用户属于这个群组，那么应该享有该群组的一些权限 (比如读写执行等)。</p><p><mark>其他人</mark>：即用户不属于文件拥有者，也不属于该文件的群组中的一员，即为其他人，每个文件对于其他人都有特定的权限设定。</p><p><strong>注意：默认情况下，所有的系统上的账号与一般身份使用者，还有那个 root 的相关信息，都是记录在 <code>/etc/passwd</code> 这个文件内的。至于个人密码则是记录在 <code>/etc/shadow</code> 这个文件下。Linux 所有的群组名称都纪录在 <code>/etc/group</code> 内。</strong></p><h2 id="linux文件权限概念"><a class="anchor" href="#linux文件权限概念">#</a> Linux 文件权限概念</h2><hr><p>当屏幕中出现了 &quot;Permission deny&quot; 的时候，肯定是权限设置错误！</p><h3 id="linux文件属性"><a class="anchor" href="#linux文件属性">#</a> Linux 文件属性</h3><hr><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home<span class="token comment"># ls -al</span></pre></td></tr><tr><td data-num="2"></td><td><pre>total <span class="token number">28</span></pre></td></tr><tr><td data-num="3"></td><td><pre>drwxr-xr-x  <span class="token number">5</span> root  root  <span class="token number">4096</span> Nov <span class="token number">29</span> <span class="token number">10</span>:09 <span class="token builtin class-name">.</span></pre></td></tr><tr><td data-num="4"></td><td><pre>drwxr-xr-x <span class="token number">20</span> root  root  <span class="token number">4096</span> Sep <span class="token number">16</span> <span class="token number">16</span>:34 <span class="token punctuation">..</span></pre></td></tr><tr><td data-num="5"></td><td><pre>drwxrwxrwx  <span class="token number">2</span> guyou guyou <span class="token number">4096</span> Sep <span class="token number">25</span> <span class="token number">10</span>:09 guyou</pre></td></tr><tr><td data-num="6"></td><td><pre>drwxrwxrwx  <span class="token number">2</span> guyou guyou <span class="token number">4096</span> Sep <span class="token number">25</span> <span class="token number">10</span>:09 root_guyou</pre></td></tr><tr><td data-num="7"></td><td><pre>-rw-r--r--  <span class="token number">1</span> root  root     <span class="token number">0</span> Nov <span class="token number">29</span> <span class="token number">10</span>:08 ttt.list</pre></td></tr><tr><td data-num="8"></td><td><pre>-rw-------  <span class="token number">1</span> root  root  <span class="token number">7888</span> Nov <span class="token number">28</span> <span class="token number">15</span>:33 .viminfo</pre></td></tr></table></figure><p>使用 <code>ls -al</code> 指令，可以查看文件的属性。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>drwxr-xr-x   <span class="token number">10</span>        wyh            wyh       <span class="token number">4096</span>                Nov <span class="token number">30</span> <span class="token number">10</span>:53           wyh</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>       <span class="token number">1</span>    <span class="token punctuation">]</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>         <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>             <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>            <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>                 <span class="token punctuation">[</span>      <span class="token number">6</span>       <span class="token punctuation">]</span>              <span class="token punctuation">[</span>  <span class="token number">7</span>   <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>   权限  <span class="token punctuation">]</span>   <span class="token punctuation">[</span>连接<span class="token punctuation">]</span>  <span class="token punctuation">[</span>拥有者<span class="token punctuation">]</span>    <span class="token punctuation">[</span>群组<span class="token punctuation">]</span>      <span class="token punctuation">[</span>文件大小<span class="token punctuation">]</span>			<span class="token punctuation">[</span>修改日期<span class="token punctuation">]</span>           <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span></pre></td></tr></table></figure><ul><li><p>第一栏代表这个文件的类型与权限 (permission), 一共十个字符</p><ul><li><p>第一个字符代表这个文件是 &quot;目录、文件或者链接文件等等&quot;</p><ul><li>当为【d】则是目录</li><li>当为【-】则是文件</li><li>若是【l】则是链接文件</li><li>若是【b】则表示设备文件里面的可供存储的周边设备</li><li>若是【c】则表示鼠标、键盘 (一次性读取设备)</li></ul></li><li><p>接下来的字符中，以三个为一组，且均为 &quot;rwx&quot; 的三个参数的组合。</p><p>其中，【r】代表可读 (read)、【w】代表可写 (write)、【x】代表可执行 (execute)。</p><p>要注意的是，这三个权限的位置不会改变。如果没有权限，就会出现【-】。</p><ul><li>第一组为文件拥有者可具备的权限</li><li>第二组为加入此群组的账号的权限</li><li>第三组为其他人的权限</li></ul></li></ul></li><li><p>第二栏表示有多少文件名链接到此节点 (i-node)</p></li><li><p>第三栏表示这个文件或目录的拥有者</p></li><li><p>第四栏表示这个文件所属的群组</p></li><li><p>第五栏为这个文件的容量大小，默认单位为 Bytes</p></li><li><p>第六栏为这个文件的创建日期或者是最近的修改日期</p></li></ul><h3 id="修改文件属性与权限"><a class="anchor" href="#修改文件属性与权限">#</a> 修改文件属性与权限</h3><hr><ul><li><code>chgrp</code> : 改变文件所属的群组</li><li><code>chown</code> : 改变文件的拥有者</li><li><code>chmod</code> : 改变问价你的权限，SUID,SGID,SBIT 等等的特性</li></ul><hr><ul><li>改变所属的群组 - chgry</li></ul><p><strong>注意，使用该命令的时候，群组名字必须要存在于 /etc/group 里，即该群组存在。</strong></p><p>语法:</p><p><code>chgrp [-R] dirname/filename</code></p><p>选项与参数:</p><p>-R: 进行递回 (recursive) 的持续变更，连同次目录下的所有文件、目录的群组都更新为这个群组</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home<span class="token comment"># chgrp wyh  guyou</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root@wyhlinux:/home<span class="token comment"># ls -al</span></pre></td></tr><tr><td data-num="3"></td><td><pre>total <span class="token number">28</span></pre></td></tr><tr><td data-num="4"></td><td><pre>drwxr-xr-x  <span class="token number">5</span> root  root  <span class="token number">4096</span> Nov <span class="token number">29</span> <span class="token number">10</span>:09 <span class="token builtin class-name">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre>drwxr-xr-x <span class="token number">20</span> root  root  <span class="token number">4096</span> Sep <span class="token number">16</span> <span class="token number">16</span>:34 <span class="token punctuation">..</span></pre></td></tr><tr><td data-num="6"></td><td><pre>drwxrwxrwx  <span class="token number">2</span> guyou wyh   <span class="token number">4096</span> Sep <span class="token number">25</span> <span class="token number">10</span>:09 guyou</pre></td></tr><tr><td data-num="7"></td><td><pre>drwxrwxrwx  <span class="token number">2</span> guyou guyou <span class="token number">4096</span> Sep <span class="token number">25</span> <span class="token number">10</span>:09 root_guyou</pre></td></tr><tr><td data-num="8"></td><td><pre>-rw-r--r--  <span class="token number">1</span> root  root     <span class="token number">0</span> Nov <span class="token number">29</span> <span class="token number">10</span>:08 ttt.list</pre></td></tr><tr><td data-num="9"></td><td><pre>-rw-------  <span class="token number">1</span> root  root  <span class="token number">7888</span> Nov <span class="token number">28</span> <span class="token number">15</span>:33 .viminfo</pre></td></tr><tr><td data-num="10"></td><td><pre>drwxr-xr-x <span class="token number">10</span> wyh   wyh   <span class="token number">4096</span> Nov <span class="token number">30</span> <span class="token number">10</span>:53 wyh</pre></td></tr></table></figure><ul><li>改变文件拥有者 - chown</li></ul><p><strong>注意，使用该命令的时候，使用者名字必须存在于 /etc/passwd 中，即用户存在</strong></p><p>语法:</p><p><code>chown [-R] dirname/filename</code></p><p>选项与参数:</p><p>-R: 进行递回 (recursive) 的持续变更，连同次目录下的所有文件、目录的拥有者都更新为这个用户</p><p>Tip：也可以使用 <code>:</code> 来同时修改拥有者和群组，例如将用户改为 guyou, 将群组改为 root</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home<span class="token comment"># chown guyou:root guyou</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root@wyhlinux:/home<span class="token comment"># ll</span></pre></td></tr><tr><td data-num="3"></td><td><pre>total <span class="token number">28</span></pre></td></tr><tr><td data-num="4"></td><td><pre>drwxr-xr-x  <span class="token number">5</span> root  root  <span class="token number">4096</span> Nov <span class="token number">29</span> <span class="token number">10</span>:09 ./</pre></td></tr><tr><td data-num="5"></td><td><pre>drwxr-xr-x <span class="token number">20</span> root  root  <span class="token number">4096</span> Sep <span class="token number">16</span> <span class="token number">16</span>:34 <span class="token punctuation">..</span>/</pre></td></tr><tr><td data-num="6"></td><td><pre>drwxrwxrwx  <span class="token number">2</span> guyou root  <span class="token number">4096</span> Sep <span class="token number">25</span> <span class="token number">10</span>:09 guyou/</pre></td></tr><tr><td data-num="7"></td><td><pre>drwxrwxrwx  <span class="token number">2</span> guyou guyou <span class="token number">4096</span> Sep <span class="token number">25</span> <span class="token number">10</span>:09 root_guyou/</pre></td></tr><tr><td data-num="8"></td><td><pre>-rw-r--r--  <span class="token number">1</span> root  root     <span class="token number">0</span> Nov <span class="token number">29</span> <span class="token number">10</span>:08 ttt.list</pre></td></tr><tr><td data-num="9"></td><td><pre>-rw-------  <span class="token number">1</span> root  root  <span class="token number">7888</span> Nov <span class="token number">28</span> <span class="token number">15</span>:33 .viminfo</pre></td></tr><tr><td data-num="10"></td><td><pre>drwxr-xr-x <span class="token number">10</span> wyh   wyh   <span class="token number">4096</span> Nov <span class="token number">30</span> <span class="token number">10</span>:53 wyh/</pre></td></tr><tr><td data-num="11"></td><td><pre>root@wyhlinux:/home<span class="token comment">#</span></pre></td></tr></table></figure><ul><li>改变权限 - chmod</li></ul><p>chmod 这个指令由两种权限的设置方法，分别可以使用<mark>数字</mark>或者是<mark>符号</mark>来进行权限的变更。</p><ol><li>数字类型改变文件权限</li></ol><p>符号与数字的对应关系如下:</p><ul><li>r-&gt;4</li><li>w-&gt;2</li><li>x-&gt;1</li></ul><p>例如 777 就代表拥有者，群组，其他人都有读写执行的权限，640 代表拥有者没有执行权限，群组只有写的权限，其他人无任何权限。</p><p>语法:</p><p><code>chmod [-R] xyz 文件或目录</code></p><p>选项与参数:</p><ul><li>xyz: 数字类型的权限属性，为 rwx 属性数值的相加</li><li>-R: 进行递回 (recursive) 的持续变更，亦即联通次目录下的所有文件都会变更</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>-rw-r--r--  <span class="token number">1</span> root  root     <span class="token number">0</span> Nov <span class="token number">29</span> <span class="token number">10</span>:08 ttt.list</pre></td></tr><tr><td data-num="2"></td><td><pre>root@wyhlinux:/home<span class="token comment"># chmod 777 ttt.list</span></pre></td></tr><tr><td data-num="3"></td><td><pre>-rwxrwxrwx  <span class="token number">1</span> root  root     <span class="token number">0</span> Nov <span class="token number">29</span> <span class="token number">10</span>:08 ttt.list*</pre></td></tr></table></figure><h3 id="目录与文件的权限意义"><a class="anchor" href="#目录与文件的权限意义">#</a> 目录与文件的权限意义</h3><hr><ul><li>权限对文件的重要性</li></ul><p>文件是实际含有数据的地方，包括一般文本文件、数据库内容当、二进制可执行文件等。因此，权限对于文件来说，它的意义如下:</p><ul><li><p>r (read): 可读取此一文件的实际内容，如读取文本文件的文字内容等。</p></li><li><p>w (write): 可编辑、新增或者是修改该文件的内容 (但不包含删除该文件)</p></li><li><p>x (excute): 该文件具有科研被系统执行的权限</p></li><li><p>权限对目录的重要性</p></li></ul><p>目录主要的内容在记录文件名清单，意义如下:</p><ul><li>r (read contents in directory): 表示具有读取目录结构清单的权限。拥有该权限，可以利用 ls 这个指令将该目录的内容列表显示出来</li><li>w (modify contents of directory): 表示下面这些权限:<ul><li>创建新的文件与目录</li><li>删除已经存在的文件与目录 (无论该文件的权限如何)</li><li>将已存在的文件或目录进行更名</li><li>搬移该目录内的文件、目录位置</li></ul></li><li>x (access directory): 进入该目录的权限，即 cd 指令是否能进入该目录</li></ul><h3 id="常用文件种类与扩展名"><a class="anchor" href="#常用文件种类与扩展名">#</a> 常用文件种类与扩展名</h3><hr><blockquote><p>文件种类:</p></blockquote><ul><li>正规文件 (regular file): 当使用 <code>ls -al</code> 所显示出来的属性方面，第一个字符为【-】, 例如 [-rwxrwxrwx]。另外，依照文件的内容，又大略可以分为:<ul><li>纯文本文件 (ASCII): 这是 Linux 系统中最多的一种文件类型，称为纯文本文件，我们可以直接读取到的数据。</li><li>二进制档 (binary)</li><li>数据格式文件 (data): 有些程序在运行的过程中会读取某些特定格式的文件，那些特定格式的文件可以被称为数据文件 (data file).</li></ul></li><li>目录 (directory): <code>ls -al</code> 的第一个属性为【d】</li><li>链接文件 (link)：类似于 windows 的快捷方式，第一个属性为【l】</li></ul><blockquote><p>扩展名:</p></blockquote><ul><li><code>*sh</code> : 脚本或批处理文件 (scripts), 因为批处理文件为使用 shell 写成的，<span class="exturl" data-url="aHR0cDovL3huLS1zaXEwcHgxa2o5am51aGNoLnNo"> 所以扩展名为.sh</span></li><li><code>Z,.tar,.tar.gz .zip *.tgz</code> : 经过打包的压缩文件。这是因为压缩软件分别为 gunzip,tar 等等</li><li><code>.html .php</code> : 网页相关文件</li></ul><h2 id="linux目录配置"><a class="anchor" href="#linux目录配置">#</a> linux 目录配置</h2><hr><p>Linux 的目录配置的依据是根据 FHS (Filesystem Hierarchy Standard) 标准。</p><p>FHS 将目录分成了四种类型:</p><ul><li>可分享的：可以分享给其他系统挂载使用的目录，所以包括可执行文件与使用者的邮箱等数据，是能够分享给网络上其他主机挂载用的目录</li><li>不可分享的：自己机器上运行的设备文件或者是与程序有关的 socket 文件等，由于仅与自身机器相关，所以不适合分享给其他主机。</li><li>不变的：有些数据是不会经常变动的。例如函数库、文件说明文档、系统管理员所管理的主机服务配置文件等等。</li><li>可变动的：经常改变的数据，例如登录文件、一般用户可自行收受的新闻群组等</li></ul><blockquote><h2 id="一些linux常用的目录介绍"><a class="anchor" href="#一些linux常用的目录介绍">#</a> 一些 linux 常用的目录介绍</h2></blockquote><ul><li><p>/bin: 放置的是单人维护模式下还能够被操作的指令。在 /bin 下面的指令可以被 root 与一般账号所使用的。比如<mark> cat</mark>、<mark>chmod</mark>、<mark>chown</mark>、<mark>date</mark>、<mark>mv</mark>、<mark>mkdir</mark>、<mark>cp</mark>、<mark>bash</mark> 等指令。</p></li><li><p><mark>/etc</mark>: 系统的主要的配置文件几乎都放置在这个目录内。这个目录下的各文件属性是可以让一般使用者查阅的，但是只有 root 用户有权利修改。FHS 不建议放置可执行文件在该目录中。</p></li><li><p><mark>/boot</mark>: 主要存放开机会使用到的文件，包括 lInux 核心文件以及开机菜单与开机所需配置文件等等。Linux kernel 常用的文件名为:vmlinuz.</p></li><li><p><mark>/lib</mark>: 系统的函数库非常的多，而 /lib 放置的则是在开机时会用到的函数库，以及在 /bin 或 /sbin 下面的指令会调用的函数库。</p></li><li><p><mark>/sbin</mark>: 系统管理员常用指令集。</p></li><li><p><mark>/opt</mark>: 第三方协力软件放置的目录。不过，还是习惯性的将软件 (比如 jdk) 放置在 /usr/local 目录下</p></li><li><p><mark>/tmp</mark>: 一般使用者或者是正在执行程序暂时放置文件的目录。需要定时清理</p></li><li><p><mark>/home</mark>: 这是系统默认的使用者主文件夹 (home directory)。当新增一个用户账号的时候，该目录下就会自动创建一个与用户名一样的目录。普通用户可以通过 <code>~</code> 来代表此目录。</p></li><li><p><mark>/root</mark>: 系统管理员的主文件夹。</p></li><li><p><mark>/usr</mark>: 全称 (Unix SoftWare Resource) 该目录下防止的数据属于可分享的与不可变动的。</p><ul><li><mark>/usr/bin</mark>: 所有一般用户能够使用的指令都放在此目录下，使用链接文件的方式将 /bin 链接到这个目录，可以这么说，/usr/bin 和 /bin 是等价的，该目录下不应该有子目录。</li><li><mark>/usr/lib</mark>: 基本上与 /lib 功能相同，所以 /lib 就是链接到此目录中</li><li><mark>/usr/local/</mark>: 系统管理员在本机自行安装自己下载的软件，建议安装到此目录，这样会比较便于管理。</li><li><mark>/usr/sbin/</mark>: 系统管理员常用指令集。/sbin 链接到此目录下。</li><li><mark>/usr/share/</mark>: 主要放置只读架构的文件数据，当然也包括共享文件。</li><li><mark>/usr/src/</mark>: 一般的源代码放置在这里，核心源代码放置在 /usr/src/linux 下。</li></ul></li><li><p><mark>/var</mark>: 在系统运行后才会渐渐占用硬盘容量的目录。主要针对常态性变动的文件，包括高速缓存 (cache)、登录文件 (log file) 以及某些软件运行所产生的文件，包括程序文件，例如 Mysql 数据库的文件等。</p><ul><li><p><mark>/var/lib/</mark>: 程序本身执行的过程中，需要使用到的数据文件防止的目录。在此目录下各自的软件应该要有各自的目录。比如 Mysql 的数据库放置到 <code>/var/lib/mysql/</code> 。</p></li><li><p><mark>/var/log/</mark>: 十分重要，登录文件防止的目录，里面都是比较重要的文件，比如 <code>/var/log/messages</code> 、 <code>/var/log/wtmp</code> (记录登陆者的信息)。</p></li></ul></li></ul><h1 id="linux文件与目录管理"><a class="anchor" href="#linux文件与目录管理">#</a> Linux 文件与目录管理</h1><hr><h2 id="目录与路径"><a class="anchor" href="#目录与路径">#</a> 目录与路径</h2><hr><blockquote><p>相对路径和绝对路径</p></blockquote><ul><li><strong>绝对路径</strong>：路径的写法一定由根目录 <code>/</code> 写起</li><li><strong>相对路径</strong>：相对于当前工作目录的路径，一定不是由 <code>/</code> 写起</li></ul><blockquote><p>目录的相关操作</p></blockquote><ul><li><code>.</code> : 代表此层目录</li><li><code>..</code> : 代表上一层目录</li><li><code>-</code> : 代表前一个工作目录</li><li><code>~</code> : 代表目前使用者身份所在的主文件夹</li></ul><blockquote><p>常见的目录相关操作</p></blockquote><ul><li><p><mark>cd</mark>：变换目录</p></li><li><p><mark>pwd</mark>: 显示目前的目录</p><ul><li><code>[-P]</code> : 显示出确实的路径，而非使用链接的目镜</li></ul></li><li><p><mark>mkdir</mark>: 创建一个新的目录</p><ul><li><code>[-m]</code> : 设置文件的权限，直接设置，不需要看默认权限 (umask)</li><li><code>[-p]</code> : 递归创建目录</li></ul></li><li><p><mark>rmdir</mark>: 删除一个空的目录</p><ul><li><code>[-p]</code> : 连同删除上层空的目录</li></ul></li></ul><h2 id="文件与目录"><a class="anchor" href="#文件与目录">#</a> 文件与目录</h2><hr><blockquote><p>常用指令以及参数</p></blockquote><ul><li><p><code>ls</code> : 列出当前目录的文件 (不包括隐藏文件)</p><p>语法: <code>ls dir</code></p><p>选项与参数:</p><ul><li><code>[-a]</code> : 全部的文件，连同隐藏文件 (开头为。的文件) 一起列出来</li><li><code>[-h]</code> : 将文件大小以人类易读的方式 (例如 GB、KB) 列出来</li><li><code>[-l]</code> : 长数据串行列出，包括文件的属性与权限等数据</li><li><code>--color=auto</code> : 让系统自行判断是否给与颜色</li><li><code>--color=always</code> : 显示颜色</li></ul></li><li><p><code>cp</code> : 复制文件或目录，创建链接文件</p><p>语法: <code>cp source destination</code></p><p>选项与参数:</p><ul><li><code>[-a]</code> : 将源文件完全拷贝一份</li><li><code>[-i]</code> : 若目标文件以及存在时，在覆盖时会先询问动作的进程</li><li><code>[-p]</code> : 连同文件的属性 (权限、用户、时间) 一起复制过去 (备份常用)</li><li><code>[-s]</code> : 复制为符号链接文件，可以理解为创建快捷方式</li><li><code>[-r]</code> : 递归的持续复制，用于目录的复制</li></ul></li></ul><p><strong>注意：使用 <code>cp</code> 复制的时候，若不加参数， <code>cp</code> 的来源文件与目的文件的权限是不同的，目的文件的拥有者通常会是指令操作者本身，比如以 root 用户 cp 的文件，文件拥有着与群组就改为了 root 所有了。</strong></p><ul><li><p><code>rm</code> ：移除文件或目录</p><p>语法: <code>rm filename</code></p><p>选项与参数:</p><ul><li><code>[-f]</code> : 忽略不存在的文件，不会出现警告讯息</li><li><code>[-i]</code> : 互动模式，删除前会询问使用者是否确定删除</li><li><code>[-r]</code> : 递归删除，删除该目录下的所有子文件和子目录</li></ul></li></ul><blockquote><p>取得路径的文件名称和目录名称</p></blockquote><ul><li><mark>basename</mark>: 取得最后的文件名</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># basename /home/wyh/forkpid.txt</span></pre></td></tr><tr><td data-num="2"></td><td><pre>forkpid.txt</pre></td></tr></table></figure><ul><li><mark>dirname</mark>: 取得文件当前所在的目录名</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># dirname /home/wyh/forkpid.txt</span></pre></td></tr><tr><td data-num="2"></td><td><pre>/home/wyh</pre></td></tr></table></figure><h2 id="文件内容查询"><a class="anchor" href="#文件内容查询">#</a> 文件内容查询</h2><hr><blockquote><p>常用指令</p></blockquote><ul><li><p><mark>cat</mark>: 由第一行开始显示文件内容</p><p>语法: <code>cat filename</code></p><p>选项与参数:</p><ul><li><code>[-b]</code> : 列出行号，空白行不标行号</li><li><code>[-n]</code> : 列出行号，包括空白行</li><li><code>[-E]</code> : 结尾以断尾符 <code>$</code> 显示</li></ul></li><li><p><mark>tac</mark>: 从最后一行开始显示</p></li><li><p>==nl:== 显示的时候，输出行号</p></li><li><p><mark>more</mark>: 一页一页的显示文件内容</p><p>快捷按键:</p><ul><li><code>空白键</code> ：代表向下翻一页</li><li><code>Enter</code> : 代表向下翻一行</li><li><code>/字符串</code> ：代表向下搜索这个字符串</li><li><code>:f</code> : 立刻显示出文件名以及目前显示的行数</li><li><code>q</code> : 立刻离开 more</li><li><code>b</code> : 代表往回翻页</li></ul></li><li><p><mark>less</mark>: 与 more 类似，但是比 more 更好，支持向前翻页</p><p>快捷按键:</p><ul><li><code>[pagedown]</code> : 向下翻一页 (fn + ↓)</li><li><code>[pageup]</code> : 向上翻一页 (fn + ↑)</li></ul></li><li><p><mark>head</mark>: 只看头几行</p><p>语法: <code>head filename</code></p><p>选项与参数:</p><ul><li><code>-n</code> : 后面接数字，代表显示几行的意思</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">head</span> -n <span class="token number">20</span> /etc/man_db.conf  <span class="token comment"># 显示该文件前面 20 行</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">head</span> -n -100 /etc/man_db.conf <span class="token comment"># 如果一共有 131 行，只会列出前 31 行</span></pre></td></tr></table></figure></li><li><p><mark>tail</mark>: 只看尾巴几行</p><p>语法: <code>tail filename</code></p><p>选项与参数:</p><ul><li><code>-n</code> : 后面接数字，代表显示几行</li><li><code>-f</code> : 表示持续侦测，按下 [ctrl c] 即可退出侦测</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">tail</span> -n <span class="token number">10</span> /etc/man_db.conf  <span class="token comment"># 显示最后 10 行</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">tail</span> -n +100 <span class="token comment"># 显示 100 行以后的数据</span></pre></td></tr></table></figure></li><li><p><mark>od</mark>: 以二进制的方式读取文件内容</p></li></ul><blockquote><p>修改文件时间或创建新文件:touch 命令</p></blockquote><p>linux 下的三个主要的变动时间:</p><ul><li><mark>modification time (mtime)</mark>: 当该文件的内容数据变更时，就会更新这个时间！<strong>内容数据指的是文件的内容，而不是文件的属性或权限</strong></li><li><mark>status time (ctime)</mark>: 当该文件的状态改变时，就会更新这个时间，比如权限与属性被更改了，都会更新这个时间</li><li><mark>access time (atime)</mark>: 当文件内容被取用时，就会更新这个时间，比如使用 cat 指令去读取</li></ul><p><strong>注意：可以使用 <code>ls --time=*</code> 来查看文件的某种时间，比如 <code>ls --time=mtime</code> . 默认情况下 ls 使用的是 mtime</strong></p><hr><p><mark>touch</mark>: 修改文件时间或创建一个空的文件</p><p>语法: <code>touch filename</code></p><p>选项与参数:</p><ul><li><code>[-a]</code> : 仅仅改变 access time 为当前时间</li><li><code>[-c]</code> : 仅修改文件的时间，若该文件不存在则不创建新文件</li><li><code>[-m]</code> : 仅修改 mtime 为当前时间</li><li><code>[-d]:</code> 后面可以接要修改的日期</li></ul><h2 id="文件与目录的默认权限与隐藏权限"><a class="anchor" href="#文件与目录的默认权限与隐藏权限">#</a> 文件与目录的默认权限与隐藏权限</h2><hr><blockquote><p>文件的默认权限:umask</p></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># umask</span></pre></td></tr><tr><td data-num="2"></td><td><pre>0022</pre></td></tr></table></figure><p>一般权限只与<strong>后三位</strong>有关，上面是 root 的默认权限，后三位分别对应 user、group、other, 只不过是要减去的数字，比如 022, 代表拥有者的权限没有被削减，第一个 2 代表群组的权限被减去了 2 (也就是剥夺了 w 的权限), 第二个 2 代表其他的权限被减去了 2 (也就是剥夺了 w 的权限);</p><p>当然！可以以一种更直观的方式查看默认权限，加上参数 <mark>-S</mark></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># umask -S</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">u</span><span class="token operator">=</span>rwx,g<span class="token operator">=</span>rx,o<span class="token operator">=</span>rx</pre></td></tr></table></figure><p>注意:</p><ul><li>若使用者创建的是<strong>文件</strong>，则默认是没有 <code>x</code> (执行权限), 也就是说最大权限是 <code>666</code> , 默认的权限为 <code>-rw-rw-rw-</code></li><li>若使用者创建的是<strong>目录</strong>，则由于 x 与是否可以进入目录有关，因此默认权限均开放，也就是说最大的权限是 <code>777</code> , 默认的权限为 <code>drwxdrwxdrwx</code></li></ul><hr><blockquote><p>文件的隐藏属性</p></blockquote><ul><li><p><mark>chattr</mark>: 设置文件隐藏属性</p><p>语法: <code>chattr [+-=] 文件或目录名称</code></p><p>选项与参数:</p><ul><li><code>[a]</code> : 当设置 a 之后，这个文件只能增加数据，而不能删除也不能修改数据，只有 root 才能设置这属性</li><li><code>[i]</code> : 可以让一个文件不能做任何操作 (删除、改名、更新)。只有 root 能设置此权限</li></ul></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># touch g.txt</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># ls</span></pre></td></tr><tr><td data-num="3"></td><td><pre>forkpid  forkpid.c  g.txt  test01.txt  test02.txt</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># chattr +i g.txt </span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># rm g.txt </span></pre></td></tr><tr><td data-num="6"></td><td><pre>rm: remove regular empty <span class="token function">file</span> <span class="token string">'g.txt'</span>? y</pre></td></tr><tr><td data-num="7"></td><td><pre>rm: cannot remove <span class="token string">'g.txt'</span><span class="token builtin class-name">:</span> Operation not permitted</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># chattr -i g.txt </span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># rm -f g.txt</span></pre></td></tr></table></figure><ul><li><p>lsattr: 显示文件隐藏属性</p><p>语法: <code>lsattr 文件或目录</code></p><p>选项与参数:</p><p><code>[-a]</code> : 将隐藏文件的属性也显示出来</p><p><code>[-d]</code> : 如果接的是目录，仅列出目录本身的属性而非目录内的文件名</p><p><code>[-R]</code> : 连同子目录的数据一并显示出来</p></li></ul><blockquote><p>观察文件类型:file</p></blockquote><p>语法: <code>file filename</code></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># file test01.txt </span></pre></td></tr><tr><td data-num="2"></td><td><pre>test01.txt: empty</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># file forkpid.c</span></pre></td></tr><tr><td data-num="4"></td><td><pre>forkpid.c: C source, UTF-8 Unicode text</pre></td></tr></table></figure><h2 id="指令与文件的搜寻"><a class="anchor" href="#指令与文件的搜寻">#</a> 指令与文件的搜寻</h2><hr><blockquote><p>指令文件名的搜寻</p></blockquote><ul><li><p>which: 寻找<strong>可执行文件</strong></p><p>语法: <code>which command</code></p><p>选项或参数:</p><ul><li><code>[-a]</code> : 将所有由 PATH 目录中可以找到的指令均列出，而不止是第一个被找到的指令名称</li></ul></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># which ifconfig</span></pre></td></tr><tr><td data-num="2"></td><td><pre>/usr/sbin/ifconfig</pre></td></tr></table></figure><blockquote><p>文件文件名的搜寻</p></blockquote><ul><li><p>whereis: 在一些特定目录中寻找文件文件名</p><p>语法: <code>whereis 文件或文件名</code></p><p>选项与参数:</p><p><code>[-l]</code> : 可以列出 whereis 会去查询的几个主要目录</p><p><code>[-b]</code> : 只找二进制格式文件</p><p><code>[-s]</code> : 只找 source 来源文件</p></li><li><p>find: 寻找指定目录下的文件</p><p>语法: <code>find path option action</code></p><p><strong>与时间有关的选项:</strong></p><ul><li><code>[-mtime n]</code> :n 为数字，在 n 天之前的一天之内被更动过内容的文件</li><li><code>[-mtime +n]</code> : 列出 n 天之前 (不含 n 天本身) 被更动过内容的文件文件名</li><li><code>[-mtime -n]</code> : 列出在 n 天之内 (含 n 天本身) 被更动过内容的文件文件名</li><li><code>[-newer file]</code> :file 是一个存在的文件，列出比 file 还要新的文件文件名</li></ul><p><strong>与使用者或群组有关的参数:</strong></p><ul><li><code>[-uid n]</code> :n 为数字，是使用者的 UID, 记录在 /etc/passwd 中</li><li><code>[-gid n]</code> :n 为数字，是使用者的群组名称的 GID, 记录在 /etc/group 中</li><li><code>[-user name]</code> :name 为使用者账号名称</li><li><code>[-group name]</code> :name 为群组名称</li></ul><p>与文件名称相关的参数</p><ul><li><code>[-name filename]</code> : 搜寻文件名称为 filename 的文件</li><li><code>[-type TYPE]</code> : 搜寻类型为 TYPE 的文件</li></ul></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># find /home/wyh/ -name forkpid</span></pre></td></tr><tr><td data-num="2"></td><td><pre>/home/wyh/forkpid</pre></td></tr></table></figure><h1 id="文件的压缩与打包"><a class="anchor" href="#文件的压缩与打包">#</a> 文件的压缩与打包</h1><hr><h2 id="压缩和打包文件扩展名"><a class="anchor" href="#压缩和打包文件扩展名">#</a> 压缩和打包文件扩展名</h2><hr><ul><li><code>.Z</code> :compress 程序压缩的文件</li><li><code>.zip</code> :zip 程序压缩的文件</li><li><code>.gz</code> :gzip 程序压缩的文件</li><li><code>.bz2</code> :bzip2 程序压缩的文件</li><li><code>.xz</code> :xz 程序压缩的文件</li><li><code>.tar</code> :tar 程序打包的数据</li><li><code>.tar.gz</code> :tar 程序打包文件，其中经过了 gzip 的压缩</li><li><code>.tar.bz2</code> :tar 程序打包文件，其中经过了 bzip2 的压缩</li><li><code>.tar.xz</code> :tar 程序打包文件，其中经过了 xz 的压缩</li></ul><h2 id="常见的压缩解压指令"><a class="anchor" href="#常见的压缩解压指令">#</a> 常见的压缩 / 解压指令</h2><hr><ul><li><p><mark>gzip</mark></p><p>语法: <code>gzip 文件名</code></p><p>选项与参数:</p><ul><li><code>[-c]</code> : 将压缩的数据输出到屏幕上</li><li><code>[-d]</code> : 解压缩的参数</li><li><code>[-t]</code> : 用来检验一个压缩文件的一致性</li><li><code>[-v]</code> : 可以显示出原文件 / 压缩文件的压缩比</li></ul></li><li><p><mark>bzip2</mark></p><p>语法: <code>bzip2 文件名</code></p><p>选项与参数:</p><ul><li><code>[-c]</code> : 将压缩的数据输出到屏幕上</li><li><code>[-d]</code> : 解压缩的参数</li><li><code>[-t]</code> : 用来检验一个压缩文件的一致性</li><li><code>[-v]</code> : 可以显示出原文件 / 压缩文件的压缩比</li><li><code>[-z]</code> : 压缩参数 (默认值，可以不加)</li></ul></li></ul><h2 id="打包指令"><a class="anchor" href="#打包指令">#</a> 打包指令</h2><hr><ul><li><p><mark>tar</mark></p><p>语法: <code>tar filename.tar</code></p><p>选项与参数:</p><ul><li><code>[-c]</code> : 创建打包文件，可搭配 - v 来查看过程中被打包的文件名</li><li><code>[-t]</code> : 查看打包文件的内容含有哪些文件名</li><li><code>[-x]</code> : 解打包或解压缩功能，可以搭配 <code>-C</code> 在特定目录打开</li><li><code>[-z]</code> : 通过 gzip 的支持进行压缩 / 解压缩，此时文件名最好是 <code>*.tar.gz</code></li><li><code>[-j]</code> : 通过 bzip2 的支持进行压缩 / 解压缩，此时文件名最好是 <code>*.tar.bz2</code></li><li><code>[-v]</code> : 在压缩 / 解压缩过程中，将正在处理的文件名显示出来</li><li><code>[-f filename]</code> : 后面立刻要接要处理的文件名</li><li><code>[-C dir]</code> : 用于特定目录解压缩</li><li><code>--exclude=filename</code> : 排除文件，注意，最好别将该参数写在末尾</li></ul></li></ul><p><strong>总结:</strong></p><p><strong>打包并且压缩: <code>tar -zcvf destination.tar.gz source</code></strong></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># tar -zcvf forkpid.tar.gz forkpid</span></pre></td></tr><tr><td data-num="2"></td><td><pre>forkpid</pre></td></tr></table></figure><p><strong>解压缩: <code>tar -zxvf source -C destination</code></strong></p><pre><code class="language-bahs">[root@iZ2zeakmj3qd0f9brlnpjrZ wyh]# tar -zxvf forkpid.tar.gz 
forkpid
</code></pre><p><strong>查看压缩包中的文件: <code>tar -tvf source.gz</code></strong></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@iZ2zeakmj3qd0f9brlnpjrZ wyh<span class="token punctuation">]</span><span class="token comment"># tar -tvf forkpid.tar.gz </span></pre></td></tr><tr><td data-num="2"></td><td><pre>-rwxrwxrwx root/root     <span class="token number">17592</span> <span class="token number">2021</span>-12-01 <span class="token number">18</span>:52 forkpid</pre></td></tr></table></figure><h1 id="vim程序编辑器"><a class="anchor" href="#vim程序编辑器">#</a> vim 程序编辑器</h1><hr><blockquote><p>vim 和 vi 的区别</p></blockquote><p>vim 是 vi 的进阶版本，增加了一些代码的高亮，仅此而已。</p><h2 id="vi的使用"><a class="anchor" href="#vi的使用">#</a> vi 的使用</h2><hr><p>vi 分为三种模式:</p><ul><li><strong>一般指令模式 (command mode)</strong></li></ul><p>一般来说，用 vi 打开一个文件就直接进入一般指令模式了，可以使用上下左右按键来移动光标，以及使用一些快捷键。</p><ul><li><strong>编辑模式 (insert mode)</strong></li></ul><p>在一般指令模式下，按下 <code>i</code> 即可进入编辑模式，在编辑模式下，可以编辑文本。使用 <code>esc</code> 退出编辑模式，进入一般指令模式。</p><ul><li><strong>命令行命令模式 (command-line mode)</strong></li></ul><p>在一般指令模式下，使用 <code>:</code> 即可进入命令行命令模式.</p><h2 id="一般指令模式常用按键"><a class="anchor" href="#一般指令模式常用按键">#</a> 一般指令模式常用按键</h2><hr><ul><li><code>Ctrl f</code> : 屏幕向下移动一页</li><li><code>Ctrl b</code> : 屏幕向上移动一页</li><li><code>0</code> : 移动到这一列的最前面字符串</li><li><code>G</code> : 移动到文件的最后一行</li><li><code>nG</code> :n 为数字，移动到这个文件的第 n 行</li><li><code>gg</code> : 移动到这个文件的第一行，相当于 <code>1G</code></li><li><code>n Enter</code> : 光标向下移动 n 行</li><li><code>/word</code> : 向光标之下搜索字符串</li><li><code>dd</code> : 删除光标所在的那一整行</li><li><code>ndd</code> : 删除光标所在的向下 n 行</li><li><code>yy</code> : 复制光标所在的一行</li><li><code>nyy</code> : 复制光标所在的向下 n 行</li><li><code>p</code> : 粘贴到光标的下一行</li><li><code>P</code> : 粘贴到光标的上一行</li><li><code>u</code> : 复原前一个动作</li><li><code>Ctrl+r</code> : 重复上一个动作</li></ul><h2 id="命令行命令模式常用按键"><a class="anchor" href="#命令行命令模式常用按键">#</a> 命令行命令模式常用按键</h2><hr><ul><li><code>:w</code> : 将编辑的数据写入硬盘文件中</li><li><code>:w!</code> : 强制写入</li><li><code>:q</code> : 离开 vi</li><li><code>q!</code> : 修改过文件，但是不想保存，强制离开不存储</li><li><code>:wq</code> : 存储后离开</li><li><code>:set nu</code> : 显示行号</li><li><code>:set nonu</code> : 取消行号</li></ul><h1 id="bash"><a class="anchor" href="#bash">#</a> Bash</h1><hr><p>Bash 是 Shell 的一个种类，全称为 Bourne Again Shell</p><h2 id="bash的功能"><a class="anchor" href="#bash的功能">#</a> Bash 的功能</h2><hr><ul><li><p>命令编修能力 (history):bash 默认的指令记忆功能可以达到 1000 个指令，全都被记录到～/.bash.history 中，不过该文件是记录前一个登录执行过的指令，本次登录所执行的指令会被暂存到内存中，登出后才会记录到该文件中。</p></li><li><p>命令行补全功能：使用 [Tab] 进行命令补全和文件补全</p></li><li><p>命令别名设置功能 (alias):</p><p>语法: <code>alias 自定义指令=指令</code></p><p>比如: <code>alias Im =&quot;ls -al&quot;</code></p><p>可以直接使用 alias 查看所有别名</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ home<span class="token punctuation">]</span><span class="token comment"># alias</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">cp</span><span class="token operator">=</span><span class="token string">'cp -i'</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">egrep</span><span class="token operator">=</span><span class="token string">'egrep --color=auto'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">fgrep</span><span class="token operator">=</span><span class="token string">'fgrep --color=auto'</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">grep</span><span class="token operator">=</span><span class="token string">'grep --color=auto'</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token builtin class-name">alias</span> l.<span class="token operator">=</span><span class="token string">'ls -d .* --color=auto'</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">ll</span><span class="token operator">=</span><span class="token string">'ls -l --color=auto'</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls --color=auto'</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">mv</span><span class="token operator">=</span><span class="token string">'mv -i'</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">rm</span><span class="token operator">=</span><span class="token string">'rm -i'</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">which</span><span class="token operator">=</span><span class="token string">'(alias; declare -f) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot'</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">xzegrep</span><span class="token operator">=</span><span class="token string">'xzegrep --color=auto'</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">xzfgrep</span><span class="token operator">=</span><span class="token string">'xzfgrep --color=auto'</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">xzgrep</span><span class="token operator">=</span><span class="token string">'xzgrep --color=auto'</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">zegrep</span><span class="token operator">=</span><span class="token string">'zegrep --color=auto'</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">zfgrep</span><span class="token operator">=</span><span class="token string">'zfgrep --color=auto'</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token builtin class-name">alias</span> <span class="token assign-left variable">zgrep</span><span class="token operator">=</span><span class="token string">'zgrep --color=auto'</span></pre></td></tr></table></figure></li><li><p>程序化脚本 (shell script)</p></li></ul><blockquote><p>查看指令是否为 Bash shell 的内置命令:type</p></blockquote><p>语法: <code>type [-tpa] name</code></p><p>选项与参数:</p><ul><li>不加任何参数时候，type 会显出 name 是外部指令还是 bash 内置指令</li><li><code>[-t]</code> :type 会将 name 以下面的字眼显示出他的意义:<ul><li>file: 表示为外部指令</li><li>alias: 表示为命令别名所设置的名称</li><li>builtin: 表示该指令为 bash 内置的指令功能</li></ul></li><li><code>[-p]</code> : 如果后面接的是 name 为外部指令时，才会显示出完整文件名</li><li><code>[-a]</code> : 会由 PATH 变量定义的路径中，将所有含 name 的指令都列出来，包含 alias</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ home<span class="token punctuation">]</span><span class="token comment"># type ls</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">ls</span> is aliased to <span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> --color<span class="token operator">=</span>auto'</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ home<span class="token punctuation">]</span><span class="token comment"># type ll</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ll is aliased to <span class="token variable">`</span><span class="token function">ls</span> -l --color<span class="token operator">=</span>auto'</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ home<span class="token punctuation">]</span><span class="token comment"># type cd</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token builtin class-name">cd</span> is a shell <span class="token builtin class-name">builtin</span></pre></td></tr></table></figure><blockquote><p>指令的快速编辑</p></blockquote><p><code>Ctrl +u</code> : 从光标处向前删除指令串</p><p><code>Ctrl+k</code> : 从光标处向后删除指令串</p><p><code>Ctrl+a</code> : 让光标移动到整个指令串的最前面</p><p><code>Ctrl+e</code> : 让光标移动到整个指令串的最后面</p><h2 id="shell变量"><a class="anchor" href="#shell变量">#</a> Shell 变量</h2><hr><blockquote><p>变量的取用:echo</p></blockquote><p>语法: <code>echo $&#123;变量名&#125;</code></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span></pre></td></tr><tr><td data-num="2"></td><td><pre>/usr/local/java/jdk1.8.0_301/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</pre></td></tr></table></figure><blockquote><p>变量的设置</p></blockquote><p>变量的设置规则:</p><ul><li>变量与变量内容以一个等号 <code>=</code> 来连接，<strong> 注意等号两边不能有空格！</strong></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 正确写法</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># myname=wyh</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $myname</span></pre></td></tr><tr><td data-num="4"></td><td><pre>wyh</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#错误写法</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># myname = wyh</span></pre></td></tr><tr><td data-num="8"></td><td><pre>-bash: myname: <span class="token builtin class-name">command</span> not found</pre></td></tr></table></figure><ul><li><p>变量名只能以英文字符开头</p></li><li><p>变量内容若有空白字符需要用双引号或单引号，但是要注意:</p><ul><li>双引号内的 <code>$</code> 可以保持原本特性</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo "hello $&#123;myname&#125;"</span></pre></td></tr><tr><td data-num="2"></td><td><pre>hello wyh</pre></td></tr></table></figure><ul><li>单引号内的 <code>$</code> 是一般字符</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo 'hello $&#123;myname&#125;'</span></pre></td></tr><tr><td data-num="2"></td><td><pre>hello <span class="token variable">$&#123;myname&#125;</span></pre></td></tr></table></figure></li><li><p>在一串指令执行的过程中，如果需要接受其他指令所提供的 信息，可以使用 ` 或 $() 来接受其他指令的信息</p></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># version=`uname -r`</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $version</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">4.18</span>.0-147.8.1.el8_1.x86_64</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># version=$(uname -r)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $version</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">4.18</span>.0-147.8.1.el8_1.x86_64</pre></td></tr></table></figure><ul><li>若变量为扩增变量内容时，可以使用 <code>$&#123;变量名称&#125;</code> 来累加内容。</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$&#123;<span class="token environment constant">PATH</span>&#125;</span>:/home/bin</pre></td></tr></table></figure><ul><li>若变量需要在其他子程序执行，则需要以 export 来使变量变成环境变量</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr></table></figure><ul><li>通常大写字符为系统默认变量，自行定义的变量为小写字符</li><li>可以使用 <code>unset 变量名</code> 取消变量。</li></ul><blockquote><p>变量的读取:read</p></blockquote><p>语法: <code>read [-pt] variable</code></p><p>选项与参数:</p><p><code>[-p]</code> : 后面可以接提示字符</p><p><code>[-t]</code> : 后面可以接等待的秒数</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@ aliyun /home/wyh<span class="token punctuation">]</span><span class="token comment"># read al</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@ aliyun /home/wyh<span class="token punctuation">]</span><span class="token comment"># echo $al</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">[</span>root@ aliyun /home/wyh<span class="token punctuation">]</span><span class="token comment"># read -p "请输入变量:" vars</span></pre></td></tr><tr><td data-num="7"></td><td><pre>请输入变量:20</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">[</span>root@ aliyun /home/wyh<span class="token punctuation">]</span><span class="token comment"># echo $vars</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token number">20</span></pre></td></tr></table></figure><blockquote><p>宣告变量的类型:declare</p></blockquote><p>语法: <code>declare [-aixr] variable</code></p><p>选项与参数:</p><p><code>[-a]</code> : 将后面的变量定义为阵列 (array) 类型</p><p><code>[-i]</code> : 将后面的变量定义成整数数字</p><p><code>[-x]</code> : 将后面的变量变为环境变量</p><p><code>[-r]</code> : 将后面的变量设置为 readonly 类型，不能修改也不能 unset</p><blockquote><p>变量内容的删除、取代与替换</p></blockquote><table><thead><tr><th>变量的设置方式</th><th>说明</th></tr></thead><tbody><tr><td><code>$&#123;变量#关键字&#125;</code> &lt;br/&gt; <code>$&#123;变量##关键字&#125;</code></td><td>若变量内容<strong>从头开始</strong>的数据符合关键字，则将符合的<strong>最短</strong>数据删除；&lt;br/&gt; 若变量内容<strong>从头开始</strong>的数据符合关键字，则将符号的<strong>最长</strong>数据删除</td></tr><tr><td><code>$&#123;变量%关键字&#125;</code> &lt;br/&gt; <code>$&#123;变量%%关键字&#125;</code></td><td>若变量内容<strong>从尾向前</strong>的数据符合关键字，则将符合的<strong>最短</strong>数据删除；&lt;br/&gt; 若变量内容<strong>从尾向前</strong>的数据符合关键字，则将符号的<strong>最长</strong>数据删除</td></tr><tr><td><code>$&#123;变量/旧字串/新字串&#125;</code> &lt;br/&gt; <code>$&#123;变量//旧字串/新字串&#125;</code></td><td>若变量内容符合旧字串，则<strong>第一个</strong>旧字串会被新字串取代 &lt;br/&gt; 若变量内容符合旧字串，则<strong>所有的</strong>旧字串会被新字串取代</td></tr></tbody></table><table><thead><tr><th>变量的设置方式</th><th>str 没有设置</th><th>str 为空串</th><th>str 已设置非空串</th></tr></thead><tbody><tr><td><code>var=$&#123;str-expr&#125;</code></td><td>var=expr</td><td>var=</td><td>var=$str</td></tr><tr><td><code>var=$&#123;str:-expr&#125;</code></td><td>var=expr</td><td>var=expr</td><td>var=$str</td></tr><tr><td><code>var=$&#123;str+expr&#125;</code></td><td>var=</td><td>var=expr</td><td>var=expr</td></tr><tr><td><code>var=$&#123;str:+expr&#125;</code></td><td>var=</td><td>var=</td><td>var=expr</td></tr><tr><td><code>var=$&#123;str=expr&#125;</code></td><td>str=expr var=expr</td><td>str 不变 var=</td><td>str 不变 var=$str</td></tr><tr><td><code>var=$&#123;str:=expr&#125;</code></td><td>str=expr var=expr</td><td>str=expr var=expr</td><td>str 不变 var=$str</td></tr><tr><td><code>var=$&#123;str?expr&#125;</code></td><td>expr 输出到 stderr</td><td>var=0</td><td>var=$str</td></tr><tr><td><code>var=$&#123;str:?expr&#125;</code></td><td>expr 输出到 stderr</td><td>expor 输出到 stderr</td><td>var=$str</td></tr></tbody></table><h2 id="命令别名与历史记录"><a class="anchor" href="#命令别名与历史记录">#</a> 命令别名与历史记录</h2><hr><blockquote><p>命名别名:alias</p></blockquote><p>使用 <code>alias</code> 来命名别名</p><p>语法: <code>alias 别名 =指令 选项</code></p><p>使用 <code>unanlias 别名</code> 来取消别名</p><blockquote><p>历史命令:history</p></blockquote><p>语法: <code>history 参数 [historyfiles]</code></p><p>选项与参数:</p><p><code>[n]</code> : 要列出最近的 n 条命令</p><p><code>[-c]</code> : 将目前 shell 中的所有 history 内容全部清除</p><p><code>[-a]</code> : 将目前新增的 history 指令新增入 histfiles 中，若没有加 histfiles, 则默认写入 <code>~/.bash_history</code> 中</p><p><code>[-r]</code> : 将 histfiles 的内容读取到目前这个 shell 的 history 记忆中</p><p><code>[-w]</code> : 将目前的 history 记忆内容写入 histfiles 中</p><p>当列出历史命令后，可以使用 <code>!n</code> 执行第 n 条命令</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 执行第 1033 条命令</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@ aliyun /home/wyh<span class="token punctuation">]</span><span class="token comment"># !1030</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token variable">$al</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#执行上条命令</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">[</span>root@ aliyun /home/wyh<span class="token punctuation">]</span><span class="token comment"># !!</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token variable">$al</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 执行最近以 vi 开头的命令</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span>root@ aliyun /home/wyh<span class="token punctuation">]</span><span class="token comment"># !vi</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token function">vim</span> javaLog.log</pre></td></tr></table></figure><h2 id="环境变量的功能"><a class="anchor" href="#环境变量的功能">#</a> 环境变量的功能</h2><hr><blockquote><p>使用 env 和 export 查看环境变量</p></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable">MAIL</span><span class="token operator">=</span><span class="token string">"/var/spool/mail/root"</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token environment constant">OLDPWD</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/java/jdk1.8.0_301/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin"</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">PWD</span></span><span class="token operator">=</span><span class="token string">"/root"</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span><span class="token string">"/bin/bash"</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">SHLVL</span></span><span class="token operator">=</span><span class="token string">"1"</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable">SSH_TTY</span><span class="token operator">=</span><span class="token string">"/dev/pts/0"</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable">S_COLORS</span><span class="token operator">=</span><span class="token string">"auto"</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">TERM</span></span><span class="token operator">=</span><span class="token string">"xterm"</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span><span class="token string">"root"</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">XDG_RUNTIME_DIR</span></span><span class="token operator">=</span><span class="token string">"/run/user/0"</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable"><span class="token environment constant">XDG_SESSION_ID</span></span><span class="token operator">=</span><span class="token string">"47"</span></pre></td></tr></table></figure><blockquote><p>使用 set 观察所有变量 (环境变量和自定义变量)</p></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">'[\u@\h \W]\$ '</span></pre></td></tr></table></figure><ul><li><p>PS1: 提示字符的设置</p><ul><li><code>\d</code> : 可以显示出 <code>星期 月 日</code> 的日期格式</li><li><code>\H</code> : 完整的主机名</li><li><code>\h</code> : 仅取主机名在第一个小数点之前的名字</li><li><code>\t</code> : 显示时间，为 24 小时格式的 &quot;HH:MM:SS&quot;</li><li><code>\T</code> : 显示时间，为 12 小时格式的 &quot;HH:MM:SS&quot;</li><li><code>\A</code> : 显示时间，为 24 小时格式的 &quot;HH:MM&quot;</li><li><code>\@</code> : 显示时间，为 12 小时格式的 &quot;am/pm&quot;</li><li><code>\u</code> : 目前使用者的账号名称</li><li><code>\w</code> : 完整的工作目录名称</li><li><code>\W</code> : 利用 basename 函数取得工作目录名称，所以会列出最后一个目录名</li><li><code>$</code> : 提示字符，如果是 root, 提示字符为 <code>#</code> , 否则为 <code>$</code></li></ul></li><li><p>export：将自定变量转成环境变量</p></li></ul><blockquote><p>环境变量与自定变量的区别</p></blockquote><p><strong>当登录 Linux 并取得了一个 bash 之后，bash 就是一个独立的程序。接下来在这个 bash 下面所下达的任何指令都是由这个 bash 衍生出来的，那么被下达的指令就被称为子程序。当前 bash 可以称为父程序。当在原来的 bash 下面执行另一个 bash 时，原本的 bash 就会睡眠，但第二个 bash 结束掉，才会回到原本的 bash 去。</strong></p><p><strong>子程序会继承父程序的环境变量，但不会继承自定变量，也就是第二个 bash 中用不了原来 bash 的自定变量。当使用 export 指令将自定转成环境变量时，子程序就能使用父程序定义的变量了</strong>。</p><h2 id="bash-shell的操作环境"><a class="anchor" href="#bash-shell的操作环境">#</a> Bash Shell 的操作环境</h2><hr><blockquote><p>指令运行的顺序</p></blockquote><ol><li><strong>以相对 / 绝对路径执行指令</strong></li><li><strong>由 alias 找到该指令来执行</strong></li><li><strong>由 bash 内置的 (builtin) 指令来执行</strong></li><li><strong>通过 $PATH 这个变量的顺序搜寻到的第一个指令来执行</strong></li></ol><blockquote><p>bash 的环境配置文件</p></blockquote><p>login 与 non-login shell</p><ul><li>login shell: 取得 bash 时需要完整的登录流程，就称为 login shell。比如有 tty1-tty6 登录，需要输入使用的账号与密码，此时取得的 bash 就称为 &quot;login shell&quot;</li><li>non-login shell: 取得 bash 接口的方法不需要重复登录的举动，举例来说，在原本的 bash 环境下再次下达 bash 这个指令，同样不用输入账号密码，第二个 bash 也是 non-login shell。</li></ul><p>login-shell 只会读取两个配置文件:</p><ol><li><code>/etc/profile</code> : 这个是系统整体的设置，最好不要修改这个文件</li><li><code>~/.bash_profile</code> 或 <code>~/.bash_login</code> 或 <code>~/.profile</code> : 属于使用者个人设置，要改自己的数据，就写入。</li></ol><p>当 bash 读完了整体环境设置的 <code>/etc/profile</code> ，接下来则是会读取使用者的个人配置文件。读取顺序是:</p><ol><li><code>~/.bash_profile</code></li><li><code>~/.bash_login</code></li><li><code>~/.profile</code></li></ol><p>其实 bash 只会读三个中的第一个，如果前面的不存在就继续往后读。</p><p>non-login shell 只会读取 <code>~/.bashrc</code></p><h2 id="数据重导向"><a class="anchor" href="#数据重导向">#</a> 数据重导向</h2><hr><p>数据冲导向是讲 standard out put (stdout) 标准输出和 standard error out put (stderr) 标准错误输出，分别传送到其他的文件或设备去。</p><p><code>&gt;</code> : 以覆盖的方法将<mark>正确的数据</mark>输出到指定的文件或设备上</p><p><code>&gt;&gt;</code> : 以累加的方法将<mark>正确的数据</mark>输出到指定的文件或设备上</p><p><code>2&gt;</code> : 以覆盖的方法将<mark>错误的数据</mark>输出到指定的文件或设备上</p><p><code>2&gt;&gt;</code> : 以累加的方法将<mark>错误的数据</mark>输出到指定的文件或设备上</p><h2 id="管线命令pipe"><a class="anchor" href="#管线命令pipe">#</a> 管线命令 (pipe)</h2><hr><p>管线命令的语法:</p><p><code>Command1 | Command2 | Command3</code> 。</p><p>将 Command1 的 Stdout 作为 Command2 的 Stdin, 然后将 Command2 的 Stdout 作为 Command3 的 Stdin。</p><p>管线命令必须是能够接受 standard 的命令，例如 less、more、head、tail 等。</p><p>管线命令的两个特点:</p><ul><li>管线命令仅会处理 standard output, 对于 standard error output 会忽略</li><li>管线命令必须要能够接受来自前一个指令的数据成为 strandard input 继续处理才行</li></ul><h2 id="撷xie取命令"><a class="anchor" href="#撷xie取命令">#</a> 撷 (xie) 取命令</h2><hr><p>撷取命令就是讲一段数据经过分析后，取出我们需要的。</p><ul><li><p><mark>cut</mark>: 将一段讯息的某一段切出来，以行为单位</p><p>语法: <code>cut -d '分隔字符' -f fields</code></p><p>选项与参数:</p><ul><li><code>[-d]</code> : 后面接着分隔字符，与 - f 一起使用</li><li><code>[-f]</code> : 依据 - d 的分个字符讲一段讯息分区数段，-f 是取出第几段的意思</li><li><code>[-c]</code> : 以字符的单位取出固定字符区间</li></ul></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/usr/local/java/jdk1.8.0_301/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH | cut ':' -f 1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>cut: <span class="token string">':'</span><span class="token builtin class-name">:</span> No such <span class="token function">file</span> or directory</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH | cut -d ':' -f 1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>/usr/local/java/jdk1.8.0_301/bin</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH | cut -d ':' -f 2</span></pre></td></tr><tr><td data-num="7"></td><td><pre>/usr/local/sbin</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH | cut -d ':' -f 3</span></pre></td></tr><tr><td data-num="9"></td><td><pre>/usr/local/bin</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH | cut -d ':' -f 4</span></pre></td></tr><tr><td data-num="11"></td><td><pre>/usr/sbin</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH | cut -d ':' -f 5</span></pre></td></tr><tr><td data-num="13"></td><td><pre>/usr/bin</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment">#</span></pre></td></tr></table></figure><ul><li><p><mark>grep</mark>: 分析一行讯息，若当中有所需要的，就把该行拿出来</p><p>语法: <code>grep [-acinv] '搜寻字串' filename</code></p><p>选项与参数:</p><p><code>[-a]</code> : 将 binary 文件以 text 文件的方式搜寻数据</p><p><code>[-c]</code> : 计算找到 ' 搜寻字串 ' 的次数</p><p><code>[-i]</code> : 忽略大小写的不同，所以大小写视为相同</p><p><code>[-n]</code> : 顺便输出行号</p><p><code>[-v]</code> : 反向选择，即显示出没有 ' 搜寻字串 ' 内容的哪一行</p></li><li><p><mark>awk</mark></p></li></ul><p>awk 是一个非常好的数据处理工具，awk 比较倾向于一行当中分成多个 &quot;字段&quot; 来处理，因此非常适合处理小型的数据。默认的字段分隔符号是空白键和 tab 键</p><p>语法: <code>awk '条件1&#123;动作1&#125; 条件2&#123;动作2&#125;' filename</code></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 取出 last 的 stdout 中的 第一个字段和第二个字段的信息，注意 $0 是代表一整行</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># last -n 5 | awk '&#123;print $1 "\t" $2&#125;'</span></pre></td></tr><tr><td data-num="3"></td><td><pre>root    pts/1</pre></td></tr><tr><td data-num="4"></td><td><pre>root    pts/0</pre></td></tr><tr><td data-num="5"></td><td><pre>root    pts/2</pre></td></tr><tr><td data-num="6"></td><td><pre>root    pts/1</pre></td></tr><tr><td data-num="7"></td><td><pre>root    pts/0</pre></td></tr><tr><td data-num="8"></td><td><pre>wtmp    begins</pre></td></tr></table></figure><p>awk 中 的内置变量:</p><ul><li>NF: 每一行 ($0) 拥有的字段总数</li><li>NR: 目前 awk 所处理的是 &quot;第几行&quot; 数据</li><li>FS: 目前的分隔字符，默认是空白键</li></ul><p>打印第 n 行内容</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">awk</span> <span class="token string">'NR==10'</span> ./file.text </pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>wyh@wyhlinux:~$ <span class="token function">awk</span> <span class="token string">'NR==10 &#123; print $0 &#125;'</span> ./file.text </pre></td></tr><tr><td data-num="4"></td><td><pre>Line <span class="token number">10</span></pre></td></tr></table></figure><p>awk 中变量可以直接输出，不必须要 <code>$</code></p><ul><li><p>sed: 可以分析 stdin, 并且将数据进行取代、删除、新增、撷取特定行等功能</p><p>语法: <code>sed [-nefr] [动作]</code></p><p>选项与参数:</p><ul><li><code>[-n]</code> : 使用安静模式，只有经过特殊处理的那一行才会被列出来</li><li><code>[-e]</code> : 直接在命令行界面上进行 sed 的动作编辑</li><li><code>[-f]</code> : 直接将 sed 的动作写在一个文件内</li><li><code>[-r]</code> : 支持正则语法</li><li><code>[-i]</code> : 直接修改读取的文件内容</li></ul><p>动作说明: <code>[n1,n2] function</code></p><p>function：</p><ul><li>a: 新增，a 后面可以接字符串，而这些字符串会在新的一行出现 (目前的下一行)</li><li>c: 取代，c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行</li><li>d: 删除</li><li>i: 插入:i 后面可以接字串，这些字串会在新的一行出现 (目前的上一行)</li></ul></li></ul><p><strong>注意：动作必须以两个单引号括住</strong></p><h2 id="字符串转换命令"><a class="anchor" href="#字符串转换命令">#</a> 字符串转换命令</h2><hr><p><mark>tr</mark>: 删除一段讯息当中的文字，或者是进行文字讯息的替换</p><p>语法: <code>tr [-ds] SET1....</code></p><p>选项与参数:</p><ul><li><code>[-d]</code> : 删除讯息当中的 SET1 这个字符串</li><li><code>[-s]</code> : 取代掉丛洪福的字符</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#  将小写字母转换为大写字母</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ ~<span class="token punctuation">]</span><span class="token comment"># last | tr '[a-z]' '[A-Z]'</span></pre></td></tr></table></figure><h1 id="shell-scrpit"><a class="anchor" href="#shell-scrpit">#</a> Shell Scrpit</h1><hr><h2 id="shell-scrpit编写的时候的注意事项"><a class="anchor" href="#shell-scrpit编写的时候的注意事项">#</a> Shell Scrpit 编写的时候的注意事项:</h2><ol><li>指令的执行是从上而下、从左而右的分析与执行</li><li>指令、选项与参数间的多个空白都会被忽略</li><li>空白行也会被忽略</li><li><code>#</code> 可以作为注释</li></ol><h2 id="执行脚本的方法"><a class="anchor" href="#执行脚本的方法">#</a> 执行脚本的方法</h2><ul><li><p>直接指令下达:shell.sh 文件必须具备可 rw 权限</p><ul><li>绝对路径下达指令</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/home/wyh/shell.sh</pre></td></tr></table></figure><ul><li>相对路径下达指令</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>./shell.sh</pre></td></tr></table></figure><ul><li>PATH: 将 shell.sh 放到 PATH 指定的目录内，可以直接 shell.sh 执行</li></ul></li><li><p>以 bash 程序来执行：通过 &quot;bash <span class="exturl" data-url="aHR0cDovL3NoZWxsLnNo">shell.sh</span>&quot;或&quot;sh <span class="exturl" data-url="aHR0cDovL3NoZWxsLnNo">shell.sh</span>&quot; 来执行</p></li></ul><p><strong>tips: <code>sh shell.sh</code> 执行的原理：因为 <code>/bin/sh</code> 其实就是 <code>/bin/bash</code> (链接文件), 使用 <code>sh shell.sh</code> 即告诉系统，以 bash 的功能来执行 shell.sh 这个文件内相关的指令。</strong></p><h2 id="第一个shell-scrpit"><a class="anchor" href="#第一个shell-scrpit">#</a> 第一个 shell scrpit</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/bin/bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># Program:</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#       This is a First Shell Script</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># History:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#       2021/12/2 wyh</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">echo</span> -e <span class="token string">"Hello World <span class="token entity" title="\n">\n</span>"</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token builtin class-name">exit</span> <span class="token number">0</span></pre></td></tr></table></figure><p>执行脚本:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 这里需要注意，由于对于文件的默认权限没有执行权限，因此在执行脚本之前需要给脚本赋予 x 执行权限</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@iZ2zeakmj3qd0f9brlnpjrZ bin<span class="token punctuation">]</span><span class="token comment"># ./hello.sh </span></pre></td></tr><tr><td data-num="3"></td><td><pre>Hello World</pre></td></tr></table></figure><p><strong>说明:</strong></p><p><strong>第一行的 <code>#!/bin/bash</code> 是宣告这个脚本使用的 shell 名称，当程序被执行的时候，就能够载入 bash 相关环境的配置文件，这很重要！！！如果没有这一行，操作系统可能无法判断是用什么 shell 来执行</strong></p><p><strong>第二行是对该脚本程序的一些说明</strong></p><p><strong>第三行：主要环境变量的宣告，比如 PATH, 当使用外部指令的时候，就不必写绝对路径了。</strong></p><h2 id="script的执行方式差异"><a class="anchor" href="#script的执行方式差异">#</a> script 的执行方式差异</h2><ul><li>利用直接执行的方式来执行 script</li></ul><p>当使用直接执行的方式来处理时，系统会给予一支新的 bash 让我们来执行 sh 文件里面的指令，因此，当 sh 文件执行完毕后，子程序 bash 内的所有数据便被移除了。</p><ul><li>利用 source 来执行脚本</li></ul><p>使用 source 来执行的 sh 文件，该文件会在父程序中执行，因此各项动作都会在原本的 bash 内生效</p><h2 id="判断符号"><a class="anchor" href="#判断符号">#</a> 判断符号 []</h2><p>shell 中的 [] 与 test 的用法一致</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span> <span class="token string">"<span class="token environment constant">$HOME</span>"</span> <span class="token operator">==</span> <span class="token variable">$MAIL</span> <span class="token punctuation">]</span></pre></td></tr></table></figure><p>需要注意下空格的位置</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token string">"<span class="token environment constant">$HOME</span>"</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token string">"<span class="token variable">$MAIL</span>"</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 里面的小 [] 代表空格</span></pre></td></tr></table></figure><p>括号内的一些比较方式:</p><p>注意:</p><ul><li><p><strong>在中括号内的每个元件都需要有空白键来分隔</strong></p></li><li><p><strong>在中括号内的变量，最好都以双引号括号起来</strong></p></li><li><p><strong>在中括号内的常数，最好以单或双括号括号起来</strong></p></li><li><p><strong>在中括号中使用 <code>-o</code> 代表 <code>||</code> , 使用 <code>-a</code> 代表 <code>&amp;&amp;</code></strong></p></li></ul><p>练习:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/bin/bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token builtin class-name">read</span> -p <span class="token string">"Please input (Y/N) : "</span> yn</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$&#123;yn&#125;</span>"</span> <span class="token operator">==</span> <span class="token string">"Y"</span> -o <span class="token string">"<span class="token variable">$&#123;yn&#125;</span>"</span> <span class="token operator">==</span> <span class="token string">"y"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"OK, continue"</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$&#123;yn&#125;</span>"</span> <span class="token operator">==</span> <span class="token string">"N"</span> -o <span class="token string">"<span class="token variable">$&#123;yn&#125;</span>"</span> <span class="token operator">==</span> <span class="token string">"n"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"Oh, interrupt!"</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"I don't know what your choice is"</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span></pre></td></tr></table></figure><h2 id="默认变量"><a class="anchor" href="#默认变量">#</a> 默认变量</h2><hr><p>指令是可以带参数的，同样，shell 脚本也是可以带参数执行的。</p><figure class="highlight markdown"><figcaption data-lang="markdown"></figcaption><table><tr><td data-num="1"></td><td><pre>/path/to/scriptname           opt1               opt2              opt 3</pre></td></tr><tr><td data-num="2"></td><td><pre>          $0																$1								$2									$3</pre></td></tr></table></figure><p>在 shell 中可以使用的一些特殊的变量:</p><ul><li><code>$#</code> : 代表后接的参数个数</li><li><code>$@</code> : 代表所有参数</li><li><code>$*</code> : 代表以空格分隔的所有变量</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/bin/bash</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#$&#123;0&#125; 代表脚本的名称</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"The script name is ==> <span class="token variable">$&#123;0&#125;</span>"</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">#$&#123;#&#125; 代表参数的个数</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"The script name is ==> <span class="token variable">$#</span>"</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">#</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$#</span>"</span> -lt <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"The number of parameter is less than 2\. Stop here"</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 输出所有参数</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"The script name is ==> <span class="token variable">$@</span>"</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 输出第一个参数</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"The script name is ==> <span class="token variable">$&#123;1&#125;</span>"</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># 输出第二个参数</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"The script name is ==> <span class="token variable">$&#123;2&#125;</span>"</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span></pre></td></tr><tr><td data-num="20"></td><td><pre>wyh@wyhlinux:~/bin$ ./how_paras.sh haha hehe</pre></td></tr><tr><td data-num="21"></td><td><pre>The script name is <span class="token operator">==</span><span class="token operator">></span> ./how_paras.sh</pre></td></tr><tr><td data-num="22"></td><td><pre>The script name is <span class="token operator">==</span><span class="token operator">></span> <span class="token number">2</span></pre></td></tr><tr><td data-num="23"></td><td><pre>The script name is <span class="token operator">==</span><span class="token operator">></span> haha hehe</pre></td></tr><tr><td data-num="24"></td><td><pre>The script name is <span class="token operator">==</span><span class="token operator">></span> haha</pre></td></tr><tr><td data-num="25"></td><td><pre>The script name is <span class="token operator">==</span><span class="token operator">></span> hehe</pre></td></tr></table></figure><h2 id="条件判断式"><a class="anchor" href="#条件判断式">#</a> 条件判断式</h2><hr><blockquote><p>If-elif-else-fi</p></blockquote><p>语法:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span> <span class="token keyword">then</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token comment">#判断条件成立时候执行的内容</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">elif</span> <span class="token punctuation">[</span> 条件判断是 <span class="token punctuation">]</span> <span class="token keyword">then</span></pre></td></tr><tr><td data-num="4"></td><td><pre> 	<span class="token comment">#判断条件成立时候执行的内容</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">else</span> </pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token comment">#判断条件不成立时候执行的内容</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 结束</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">fi</span></pre></td></tr></table></figure><blockquote><p>case ...esac</p></blockquote><p>语法:</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">case</span> $变量名 <span class="token keyword">in</span></pre></td></tr><tr><td data-num="2"></td><td><pre>		<span class="token string">"第一个变量内容"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>		<span class="token comment"># 程序段</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token string">"第二个变量内容"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token comment">#程序段</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		*<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token comment"># 不包含第一个变量内容与第二个变量内容的其他程序执行段</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">esac</span> <span class="token comment">#结束</span></pre></td></tr></table></figure><blockquote><p>获取变量的方式</p></blockquote><ul><li>直接下达式，通过在 sh 文件后面加上参数，使用 $i 来给变量赋值</li><li>互动式：使用 read 指令来让使用者输入变量内容</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 给 choice 这个变量赋值</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">read</span> -p <span class="token string">"Please input choice:"</span>  choice</pre></td></tr></table></figure><h2 id="函数"><a class="anchor" href="#函数">#</a> 函数</h2><hr><p>shell 中使用 function 定义函数，与 JavaScript 很类似</p><p>语法:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>程序段</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>注意：函数一定要设置在程序的最前面，这样在执行时才能找到可用的程序段。</strong></p><p>案例:</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/bin/bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">function</span> <span class="token function-name function">printit</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token builtin class-name">echo</span> -n <span class="token string">"Your choice is"</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"This program will print your selection !"</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">case</span> <span class="token variable">$&#123;1&#125;</span> <span class="token keyword">in</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token string">"one"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        printit<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$&#123;1&#125;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'a-z'</span> <span class="token string">'A-Z'</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token string">"two"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        printit<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$&#123;1&#125;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'a-z'</span> <span class="token string">'A-Z'</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token string">"three"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        printit<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$&#123;1&#125;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'a-z'</span> <span class="token string">'A-Z'</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        *<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token builtin class-name">echo</span> <span class="token string">"Usage <span class="token variable">$&#123;0&#125;</span> &#123;one | tpw | three&#125;"</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">esac</span></pre></td></tr></table></figure><p><strong>注意：在函数中也能使用 ${1} 来获取使用函数时后面添加的第一个参数</strong>，<strong> 但是不能获取执行 sh 时候的参数</strong></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function-name function">printit</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre> <span class="token builtin class-name">echo</span> -e <span class="token string">"<span class="token variable">$&#123;1&#125;</span>"</span>   <span class="token comment"># 输出 hahaha</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>printit<span class="token punctuation">;</span> hahaha</pre></td></tr></table></figure><h2 id="循环"><a class="anchor" href="#循环">#</a> 循环</h2><hr><h3 id="不定循环"><a class="anchor" href="#不定循环">#</a> 不定循环</h3><hr><ul><li>while do done</li></ul><p>语法:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">while</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span>  <span class="token comment"># 中括号里的状态就是判别式。当条件成立时，进行循环</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span>			<span class="token comment"># 循环的开始</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 程序段落</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">done</span> <span class="token comment"># 循环的结束</span></pre></td></tr></table></figure><ul><li>until do done</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">until</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span> <span class="token comment"># 当条件成立时，就终止循环</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span> <span class="token comment"># 开始循环</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 程序段落</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">done</span> <span class="token comment"># 循环结束</span></pre></td></tr></table></figure><h3 id="固定循环"><a class="anchor" href="#固定循环">#</a> 固定循环</h3><hr><ul><li>for..do..done</li></ul><p>语法一:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> con1 con2 con3 <span class="token punctuation">..</span><span class="token punctuation">..</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span> </pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 程序段</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">done</span></pre></td></tr></table></figure><p>以上例子来说，这个 $var 的变量内容在循环工作时：</p><ol><li>第一次循环时，$var 的内容为 con1;</li><li>第二次循环时，$var 的内容为 con2;</li><li>第三次循环时，$var 的内容为 con3;</li></ol><p>案例:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/bin/bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">for</span> <span class="token for-or-select variable">animal</span> <span class="token keyword">in</span> dog <span class="token function">cat</span> elephant</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="8"></td><td><pre> <span class="token builtin class-name">echo</span> <span class="token string">"There are <span class="token variable">$&#123;animal&#125;</span>"</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">done</span></pre></td></tr></table></figure><p>取出 /etc/passwd 内的第一个字段</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/bin/bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token assign-left variable">users</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cut</span> -d <span class="token string">':'</span> -f1 /etc/passwd<span class="token variable">)</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">for</span> <span class="token for-or-select variable">username</span> <span class="token keyword">in</span> <span class="token variable">$&#123;users&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token function">id</span> <span class="token variable">$&#123;username&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">done</span></pre></td></tr></table></figure><p>语法二:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> 初始值<span class="token punctuation">;</span>限制值<span class="token punctuation">;</span>执行步阶<span class="token punctuation">))</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	程序段</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">done</span></pre></td></tr></table></figure><ul><li><strong><mark>初始值</mark>：某个变量在循环当中的起始值，直接以类似 i=1 设置好</strong></li><li><strong><mark>限制值</mark>：当变量的值在这个限制范围内，就进行循环。例如 i&lt;=100</strong></li><li><strong><mark>执行步阶</mark>：每做一次循环时，变量的变化量。例如 i=i+1</strong></li></ul><p>案例:</p><p>输出从 1 到 n 的总和</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/bin/bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  </pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin class-name">read</span> -p <span class="token string">"Please input a number, I will count for 1+2+...+your_input: "</span> nu</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>$&#123;nu&#125;<span class="token punctuation">;</span> i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">))</span></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$s<span class="token operator">+</span>$i<span class="token variable">))</span></span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"The result of '1+2+3+...+<span class="token variable">$&#123;nu&#125;</span>' is ==> <span class="token variable">$&#123;s&#125;</span>"</span></pre></td></tr></table></figure><h2 id="shell的追踪与debug"><a class="anchor" href="#shell的追踪与debug">#</a> shell 的追踪与 debug</h2><hr><p>语法:</p><p><code>sh [-nvx] scripts.sh</code></p><p>选项与参数:<br><code>[-n]</code> : 不要执行 script, 仅查询语法的问题</p><p><code>[-v]</code> : 在执行 script 前，先将 scripts 的内容输出到屏幕上</p><p><strong><code>[-x]</code> : 将使用到的 script 内容显示到屏幕上 (非常有用！！！)</strong></p><h2 id="shell中各种括号的作用"><a class="anchor" href="#shell中各种括号的作用">#</a> shell 中各种括号的作用</h2><ol><li>单小括号 <code>()</code></li></ol><ul><li><p>命令组：括号中的命令会新开一个子 shell 去执行，所以括号中命令中的变量不能被余下脚本使用。括号中多个命令要用 <code>;</code> 隔开</p></li><li><p>命令替换: <code>$(pwd)</code> , 将 pwd 执行一次，得到标准输出 (stdout), 然后放回原来的命令中</p></li><li><p>用于初始化阵列 (数组), 例如 <code>arr=(a b c d)</code></p></li></ul><ol start="2"><li>双小括号 <code>(())</code></li></ol><ul><li>只要括号中的运算符、表达式符合规则，都可以使用在 <code>(())</code> 中，例如 <code>$((1+1))</code></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token variable"><span class="token variable">$((</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token variable">))</span></span> 等价于 <span class="token variable"><span class="token variable">`</span><span class="token number">1</span>+2<span class="token variable">`</span></span></pre></td></tr></table></figure><ul><li>用于 for 循环的语法，例如 <code>for (( i=1; i&lt;=$&#123;nu&#125;; i=i+1 ))</code></li></ul><ol start="3"><li>单中括号 <code>[]</code></li></ol><p>与 test 命令等价，用于逻辑判断</p><ol start="4"><li>花括号 {}</li></ol><ul><li><p>大括号扩展，例如 <code>touch &#123;a,b&#125;.text</code> , 会等价为为 <code>touch a.txt ;touch b.txt</code> . <code>for it in (1,8)</code> , 等价于从 1 循环到 8</p></li><li><p>代码块：实际上是创建了一个匿名函数，不会新开一个子 shell 运行。</p></li></ul><h1 id="linux的账号与群组"><a class="anchor" href="#linux的账号与群组">#</a> Linux 的账号与群组</h1><hr><h2 id="uid与gid"><a class="anchor" href="#uid与gid">#</a> UID 与 GID</h2><hr><p>虽然我们登陆 Linux 的时候，输入的是我们的账号，但是事实上 Linux 主机并不会直接认识我们的账号名称。它是通过 ID 来识别的。用户的账号都保存在 <code>/etc/passwd</code> 中</p><ul><li><code>id username</code> ：查看用户的 uid、gid</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh/bin<span class="token comment"># id wyh</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>wyh<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>wyh<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>wyh<span class="token punctuation">)</span>,4<span class="token punctuation">(</span>adm<span class="token punctuation">)</span>,24<span class="token punctuation">(</span>cdrom<span class="token punctuation">)</span>,27<span class="token punctuation">(</span>sudo<span class="token punctuation">)</span>,30<span class="token punctuation">(</span>dip<span class="token punctuation">)</span>,46<span class="token punctuation">(</span>plugdev<span class="token punctuation">)</span>,116<span class="token punctuation">(</span>lxd<span class="token punctuation">)</span>,998<span class="token punctuation">(</span>docker<span class="token punctuation">)</span></pre></td></tr></table></figure><ul><li>/etc/passwd 文件的结构</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh/bin<span class="token comment"># head -n 4 /etc/passwd</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root:x:0:0:root:/root:/bin/bash</pre></td></tr><tr><td data-num="3"></td><td><pre>daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</pre></td></tr><tr><td data-num="4"></td><td><pre>bin:x:2:2:bin:/bin:/usr/sbin/nologin</pre></td></tr><tr><td data-num="5"></td><td><pre>sys:x:3:3:sys:/dev:/usr/sbin/nologin</pre></td></tr></table></figure><p>假设以 <code>:</code> 来划分字段的话:</p><ol><li><p>账号名称</p></li><li><p>密码，这里的密码都是 x, 因为真正的密码都在 /etc/shadow 中</p></li><li><p>UID: 使用者的识别码，管理员账号是默认是 0, 系统账号范围从 1-999, 可登陆账号从 1000-60000</p></li><li><p>GID: 所在群组的识别码，与 /etc/group 有关</p></li><li><p>使用者信息说明栏</p></li><li><p>主文件夹</p></li><li><p>shell, 当登陆者登陆系统后就会取得一个 Shell 来与系统的核心沟通进行使用者的操作人物。 <code>/sbin/nologin</code> 可以替代让账号无法取得 shell 环境的登录操作</p></li></ol><ul><li>/etc/shadow 文件的结构</li></ul><pre><code class="language-sh">root@wyhlinux:/home/wyh/bin# head -n 4 /etc/shadow
root:$6$4kw1U1.QZqCv5jT4$9DpJ.GOUPJ4h11Q.YwjNu2WosfZMl9PVgbFVjxy1HKfvXJlqgmSXfvCzLXjyaAwPuUcFE2dLtn98DxffAEKv3.:18886:0:99999:7:::
daemon:*:18474:0:99999:7:::
bin:*:18474:0:99999:7:::
sys:*:18474:0:99999:7:::
</code></pre><ol><li>账号名称：由于密码需要与账号对应，必须与 /etc/passwd 相同才行</li><li>密码：经过编码后的密码</li><li>最近更改密码的日期，该时间是以 1970 年 1 月 1 日作为 1 而累加的日期</li><li>密码不可被更动的天数，如果为 0, 说明可以随意更动，如果是 20, 说明 20 天内无法修改密码</li><li>密码需要重新变更的天数，必须在规定时间内更新密码，否则账号密码将会过期</li><li>密码需要变更期限前的警告天数，例如 7 就是密码到期之前的 7 天内，系统会警告用户</li><li>密码过期后的账号宽限时间</li><li>账号失效日期</li><li>保留</li></ol><h2 id="群组"><a class="anchor" href="#群组">#</a> 群组</h2><hr><blockquote><p>/etc/group 文件结构</p></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh/bin<span class="token comment"># head -n 4 /etc/group</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root:x:0:</pre></td></tr><tr><td data-num="3"></td><td><pre>daemon:x:1:</pre></td></tr><tr><td data-num="4"></td><td><pre>bin:x:2:</pre></td></tr><tr><td data-num="5"></td><td><pre>sys:x:3:</pre></td></tr></table></figure><ol><li>群组的名称</li><li>群组管理员的密码，一般为 x, 真正的密码在 /etc/gshadow 中</li><li>GID: 群组的 ID</li><li>此群组支持的账号名称 (新版 linux 中，初始群组的用户群不会显示)</li></ol><blockquote><p>有效群组与初始群组</p></blockquote><p><strong>初始群组</strong>一登录系统，就会拥有这个群组相关的权限，/etc/passwd 的第四个字段的 GID 就是初始群组，如果是非初始群组，比如将 wyh 将入 users 这个群组，那么就会在 /etc/group 这个文件中找到 users 那一行，将 wyh 账号加入第四栏。</p><p><strong>有效群组</strong>：当创建文件时候文件所属的群组就是有效群组</p><ul><li>gourps: 有效与支持群组的观察，可以查看当前用户支持的所有群组</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~/bin$ <span class="token function">groups</span></pre></td></tr><tr><td data-num="2"></td><td><pre>wyh adm cdrom <span class="token function">sudo</span> dip plugdev lxd docker</pre></td></tr></table></figure><p>第一个输出的即为有效群组。</p><blockquote><p>有效群组的切换:newgrp</p></blockquote><p>newgrp 指令可以变更当前用户有效群组，但是切换的群组必须是已经有支持的群组。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~$ <span class="token function">touch</span> w1</pre></td></tr><tr><td data-num="2"></td><td><pre>wyh@wyhlinux:~$ ll</pre></td></tr><tr><td data-num="3"></td><td><pre>-rw-rw-r--  <span class="token number">1</span> wyh  wyh      <span class="token number">0</span> Dec  <span class="token number">2</span> <span class="token number">11</span>:43 w1</pre></td></tr><tr><td data-num="4"></td><td><pre>wyh@wyhlinux:~$ newgrp docker</pre></td></tr><tr><td data-num="5"></td><td><pre>wyh@wyhlinux:~$ <span class="token function">touch</span> w2</pre></td></tr><tr><td data-num="6"></td><td><pre>wyh@wyhlinux:~$ ll</pre></td></tr><tr><td data-num="7"></td><td><pre>-rw-rw-r--  <span class="token number">1</span> wyh  wyh        <span class="token number">0</span> Dec  <span class="token number">2</span> <span class="token number">11</span>:43 w1</pre></td></tr><tr><td data-num="8"></td><td><pre>-rw-rw-r--  <span class="token number">1</span> wyh  docker     <span class="token number">0</span> Dec  <span class="token number">2</span> <span class="token number">11</span>:43 w2</pre></td></tr></table></figure><p><strong>注意:newgrp 是以另外一个 shell 来提供这个功能，意思就是使用了 newgrp 切换群组之后，此时的 shell 已经不是原来的 shell 了，新的 shell 给与当前用户有效 GID 为切换的群组 GID, 如果想要回到原来的 shell 中，使用 exit 即可。</strong></p><h3 id="新增与移除群组"><a class="anchor" href="#新增与移除群组">#</a> 新增与移除群组</h3><hr><ul><li><p>groupadd: 新增群组</p><p>语法: <code>groupadd 群组名称</code></p><p>选项与参数:</p><ul><li><code>[-g]</code> : 后面接某个特定的 GID, 用来直接给与某个 GID</li><li><code>[-r]</code> : 创建系统群组</li></ul></li><li><p>groupmod: 修改群组</p><p>语法: <code>groupmod 群组名</code></p><p>选项与参数:</p><ul><li><code>[-g]</code> : 修改既有的 GID 数组</li><li><code>[-n]</code> : 修改既有的群组名称</li></ul></li><li><p>groupdel: 删除群组</p><p>语法: <code>groupdel 群组名称</code></p></li></ul><p><strong>注意：删除群组的话，必须确认 /etc/passwd 内的账号没有任何人使用该群组作为初始群组才行</strong></p><ul><li><p>gpasswd: 群组管理员功能，可以创建一个群组管理员</p><p>关于系统管理员做的动作:</p><p>语法: <code>gpasswd groupname</code></p><p>选项与参数：</p><ul><li>如果没有任何参数，表示给与 groupname 一个密码</li><li><code>[-A]</code> : 将 groupname 的主控权交由后面的使用者管理，即设置群组管理员</li><li><code>[-M]</code> : 将某些账号加入这个群组当中</li><li><code>[-r]</code> : 将 groupname 的密码溢出</li><li><code>[-R]</code> : 让 groupname 的密码栏失效</li></ul><p>关于群组管理员做的动作</p><p>语法: <code>gpasswd user groupname</code></p><p>选项与参数:</p><ul><li><code>[-a]</code> : 将某位使用者加入到 groupname 这个群组中</li><li><code>[-d]</code> : 将某位使用者移出 groupname 这个群组当中</li></ul></li></ul><h2 id="账号管理"><a class="anchor" href="#账号管理">#</a> 账号管理</h2><hr><h3 id="新增与移除使用者"><a class="anchor" href="#新增与移除使用者">#</a> 新增与移除使用者</h3><hr><ul><li><p>useradd: 新增使用者</p><p>语法: <code>useradd [-u UID] [-g 初始群组] [-G 次要群组]</code></p><p>选项与参数:</p><ul><li><p><code>[-u]</code> : 后面接的是 UID, 制定一个 UID 给这个账号</p></li><li><p><code>[-g]</code> : 后面接的初始群组的名称，该群组的 GID 会被放置到 /etc/group 的第四个字段内</p></li><li><p><code>[-G]</code> : 后面接的群组名称则是这个账号还可以加入的群组</p></li><li><p><code>[-c]</code> :/etc/passwd 第五栏的说明内容</p></li><li><p><code>[-d]</code> : 指定某个目录成为主文件夹，务必使用绝对路径</p></li><li><p><code>[-e]</code> : 后面接一个日期，格式为 <code>YYYY-MM-DD</code></p></li><li><p><code>[-f]</code> : 指定密码是否会失效，0 为立刻失效，-1 为永久有效 (密码过期只会强制重新设置)</p></li></ul></li></ul><p><strong>注意：添加用户后还要使用 <code>passwd</code> 去指定用户密码！</strong></p><ul><li><p>passwd: 为用户指定登录密</p><p>语法: <code>passwd 账号名称</code></p><p>选项与参数:</p><ul><li><code>[-l]</code> : 是 Lock 的意思，会将 /etc/shadow 的第二栏前面加上！使密码失效</li><li><code>[-u]</code> : 是 unlock 的意思</li><li><code>[-S]</code> : 列出密码相关的参数，即 shadow 文件内的大部分信息</li><li><code>[-n]</code> : 后面接天数，shadow 的第四字段，多久不可修改密码天数</li><li><code>[-x]</code> : 后接天数，shadow 的第五字段，多久内必须要更改密码</li><li><code>[-w]</code> : 后面接天数，shadow 的第六字段，密码过期前的警告天数</li><li><code>[-i]</code> : 后面接日期，shadow 的第七字段，密码失效日期</li></ul></li></ul><p><strong>注意:passwd 后面必须指定用户名，否则默认修改当前用户的密码</strong></p><ul><li><p>chage</p><p>语法: <code>chage 账号名</code></p><p>选项与参数:</p><ul><li><code>[-l]</code> : 列出该账号的详细密码参数</li><li><code>[-d]</code> : 后面接日期，修改 shadow 第三字段 (最近一次更改密码的日期), 格式 <code>YYYY-MM-DD</code></li><li><code>[-E]</code> : 后面接日期，修改 shadow 第八字段 (账号失效日), 格式为 <code>YYYY-MM-DD</code></li><li><code>[-I]</code> : 后面接天数，修改 shadow 第七字段 (密码失效时间)</li><li><code>[-m]</code> : 后面接天数，修改 shadow 第五字段 (密码多久需要进行变更)</li><li><code>[-W]</code> : 后面接天数，修改 shadow 第六字段 (密码过期前警告日期)</li></ul></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:/root$ chage -l wyh</pre></td></tr><tr><td data-num="2"></td><td><pre>Last password change                                    <span class="token builtin class-name">:</span> Sep <span class="token number">16</span>, <span class="token number">2021</span></pre></td></tr><tr><td data-num="3"></td><td><pre>Password expires                                        <span class="token builtin class-name">:</span> never</pre></td></tr><tr><td data-num="4"></td><td><pre>Password inactive                                       <span class="token builtin class-name">:</span> never</pre></td></tr><tr><td data-num="5"></td><td><pre>Account expires                                         <span class="token builtin class-name">:</span> never</pre></td></tr><tr><td data-num="6"></td><td><pre>Minimum number of days between password change          <span class="token builtin class-name">:</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="7"></td><td><pre>Maximum number of days between password change          <span class="token builtin class-name">:</span> <span class="token number">99999</span></pre></td></tr><tr><td data-num="8"></td><td><pre>Number of days of warning before password expires       <span class="token builtin class-name">:</span> <span class="token number">7</span></pre></td></tr></table></figure><ul><li><p>usermod: 对账号的相关数据进行修改</p><p>语法: <code>usermod username</code></p><p>选项与参数:</p><ul><li><code>[-c]</code> : 后面接账号说明，即 /etc/passwd 第五栏的说明栏，可以加入一些账号的说明</li><li><code>[-d]</code> : 后面接账号的主文件夹，即修改 /etc/passwd 的第六栏</li><li><code>[-e]</code> : 后面接日期，格式是 YYYY-MM-DD 也就是在 /etc/shadow 内的第八个字段数据</li><li><code>[-f]</code> : 后面接天数，为 shadow 的第七字段</li><li><code>[-g]</code> : 后面接初始群组，修改 /etc/passwd 的第四个字段，即是 GID 的字段！</li><li><code>[-G]</code> : 后面接次要群组，修改这个使用者能够支持的群组，修改的是 /etc/group</li><li><code>[-a]</code> : 与 -G 合用，可增加次要群组的支持</li><li><code>[-l]</code> : 修改账号的名称</li><li><code>[u]</code> : 修改账号的 UID</li><li><code>[-L]</code> : 暂时将使用者的密码冻结</li><li><code>[-U]</code> : 将密码解冻</li></ul></li><li><p>userdel: 删除使用者相关的数据</p><p>语法: <code>userdel username</code></p><p>选项与参数:</p><ul><li><code>[-r]</code> : 连同使用者的主文件夹一起删除</li></ul></li></ul><h3 id="用户切换"><a class="anchor" href="#用户切换">#</a> 用户切换</h3><hr><ul><li><p>su</p><p>语法: <code>su username</code></p><p>选项与参数:</p><ul><li><code>[-]</code> : 使用 <code>-</code> 代表以 login-shell 的变量文件读取方式来登录系统，若使用者名称没有加上去，则代码切换为 root 的身份</li><li><code>[-l]</code> : 与 <code>-</code> 类似，但是后面需要加要切换的使用者账号，也是 login-shell 的方式</li><li><code>[-m]</code> : 表示使用目前的环境设置，而不读取新使用者的配置文件</li></ul></li></ul><p>注意：当直接使用 <code>su</code> 来切换用户时候，默认是按 non-login-shell 的方式读取变量设置，而使用 <code>su -</code> 则是按 login-shell 的方式读取变量，建议使用 <code>su -</code> 来切换，这样可以保持环境变量的一致。</p><ul><li><p>sudo: 切换身份来执行某项任务</p><p>语法: <code>sudo [-b] [-u 新使用者账号]</code></p><p>选项与参数:</p><ul><li><code>-b</code> : 将后续的指令放到背景中让系统自动执行，而不与目前的 shell 产生影响</li><li><code>-u</code> : 后面可以接想要切换的使用者，默认切换身份为 root</li></ul></li></ul><p>sudo 默认仅有 root 能使用，sudo 的执行流程:</p><ol><li>当使用者执行 sudo 时，系统与 /etc/sudoers 文件中搜寻该使用者是否有执行 sudo 的全新啊</li><li>若使用者具有可执行 sudo 的权限，便让使用者输入使用者自己的密码来确认</li><li>若密码输入成功，便开始进行 sudo 后续接的指令 (但 root 执行 sudo 时，不需要输入密码)</li><li>若想要切换的身份与执行者相同，那也不需要密码</li></ol><h2 id="查询使用者"><a class="anchor" href="#查询使用者">#</a> 查询使用者</h2><hr><ul><li><code>w/who</code> : 查询目前已登录在系统上面的使用者</li><li><code>lastlog</code> : 查看每个账号最近登录的时间，回会去读取 /var/log/lastlog 文件</li></ul><h1 id="例行性工作调度"><a class="anchor" href="#例行性工作调度">#</a> 例行性工作调度</h1><hr><ul><li>at: 处理仅执行一次就结束调度的指</li><li>crontab:crontab 这个指令锁设置的工作将会一直进行下去！可循环的时间为分钟、小时、每周、每月或每年等。crontab 除了可以使用指令执行外，也可以编辑 /etc/crontab 来支持</li></ul><h2 id="at"><a class="anchor" href="#at">#</a> at</h2><hr><blockquote><p>at 的运行方式</p></blockquote><p>at 的工作情况:</p><ol><li><p>先寻找 /etc/at.allow 这个文件，写在文件中的使用者才能使用 at</p></li><li><p>如果 /etc/at..allow 文件不存在，就寻找 /etc/at.deny 这个文件，若写在这个 at.deny 的使用者则不能使用 at</p></li><li><p>如果两个文件都不存在，那么只有 root 可以使用 at 这个指令</p></li></ol><blockquote><p>实际运行单一工作调度</p></blockquote><p>语法: <code>at [-mldv] TIME</code></p><p>选项与参数:</p><ul><li><code>[-m]</code> : 当 at 工作完后 m, 即使没有输出讯息，也可以通过 email 通知使用者</li><li><code>[-l]:</code> 列出目前系统上的所有该使用者的 at 调度，相当于 atq</li><li><code>[-d]</code> : 取消一个在 at 调度中的工作，相当于 atrm</li><li><code>[-v]</code> : 可以使用较明显的时间格式列出 at 调度中的工作列表</li><li><code>[-c]</code> : 可以列出后面接的该项工作的实际指令输出</li></ul><p>TIME: 时间格式，定义 at 的执行时间</p><p>格式:</p><ul><li><code>HH:MM</code> ：在今日的 HH:MM 时刻进行，若时间已经超过，则明天进行</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>at 04:00</pre></td></tr></table></figure><ul><li><code>HH:MM YYYY-MM-DD</code> : 强制规定某年某月某日的某时刻进行</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>at 04:00 <span class="token number">2015</span>-7-30</pre></td></tr></table></figure><ul><li><code>HH:MM[am | pm] [Month] [Date]</code> : 同上</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>at 04pm July <span class="token number">30</span></pre></td></tr></table></figure><ul><li><code>HH:MM[am | pm] + number [minutes | hours | days | weeks]</code> : 某个时间点再加几个时间后进行</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>at now + 5minutes</pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~$ at now + <span class="token number">1</span> minute </pre></td></tr><tr><td data-num="2"></td><td><pre>warning: commands will be executed using /bin/sh</pre></td></tr><tr><td data-num="3"></td><td><pre>at<span class="token operator">></span> <span class="token builtin class-name">echo</span> <span class="token string">"hello"</span></pre></td></tr><tr><td data-num="4"></td><td><pre>at<span class="token operator">></span> <span class="token operator">&lt;</span>EOT<span class="token operator">></span>  <span class="token comment"># 这里记得按 ctrl + D 结束</span></pre></td></tr><tr><td data-num="5"></td><td><pre>job <span class="token number">2</span> at Sat Dec  <span class="token number">4</span> <span class="token number">15</span>:43:00 <span class="token number">2021</span></pre></td></tr></table></figure><h2 id="crontab"><a class="anchor" href="#crontab">#</a> crontab</h2><hr><p>相对于 at 是仅执行一次的工作，循环执行的例行性工作调度则是由 cron 这个系统来服务的。</p><blockquote><p>使用者设置</p></blockquote><p>与 at 同样的，使用的限制使用者账号的限制数据:</p><ul><li>/etc/cron.allow: 将可以使用 crontab 的账号写入其中，若不在这个文件内的使用者则不可使用 crontab</li><li>/etc/cron.deny: 将不可使用 crontab 的账号写入其中，若未记录到这个文件当中的使用者，就可以使用 crontab</li></ul><p>注意：当使用者使用 crontab 这个指令来创建工作调度之后，该项工作就会被记录到 /var/spool/cron/ 里面去，而且是以账号作为判别的，举个栗子，wyh 使用 crontab 后，它的工作记录会被记录到 <code>/var/spool/cron/wyh</code> 里面去。另外 cron 执行的每一项工作都会被记录到 <code>/var/log/cron</code> 这个登录文件中，所以，当不知道 Linux 是否被执行木马，可以搜寻一下 <code>/var/log/cron</code> 这个登录文件。</p><p>语法:</p><p><code>crontab [-u username]</code></p><p>选项与参数:</p><ul><li><p><code>[-u]</code> : 只有 root 才能进行这个任务，帮助其他使用者创建 / 移除 crontab 工作调度</p></li><li><p><code>[-e]</code> : 编辑 crontab 的工作内容</p></li><li><p><code>[-l]</code> : 查阅 crontab 的工作内容</p></li><li><p><code>[-r]</code> : 移除所有的 crontab 的工作内容</p></li></ul><p>每个调度任务的格式:</p><table><thead><tr><th>代表意义</th><th>分钟</th><th>小时</th><th>日期</th><th>月份</th><th>周</th><th>指令</th></tr></thead><tbody><tr><td>数字范围</td><td>0-59</td><td>0-23</td><td>1-31</td><td>1-12</td><td>0-7</td><td>自行输入</td></tr></tbody></table><p>一些特殊字符:</p><table><thead><tr><th>特殊字符</th><th>代表意义</th></tr></thead><tbody><tr><td>*</td><td>代表任何时刻的意思</td></tr><tr><td>,</td><td>代表分隔时段的意思。如果下达的巩固走是 3:00 与 6:00, 就会是 <code>0 3,6 * * * command</code></td></tr><tr><td>-</td><td>代表一段时间范围，如果是 8 点到 12 点之间的每个小时的 20 分都进行一次: <code>20 8-12 * * * command</code></td></tr><tr><td>/n</td><td>n 代表数字，表示每隔 n 个的那位间隔的意思，例如每 5 分钟执行一次: <code>*/5 * * * * command</code></td></tr></tbody></table><h1 id="程序管理"><a class="anchor" href="#程序管理">#</a> 程序管理</h1><hr><blockquote><p>什么是程序？</p></blockquote><p>LInux 系统中，触发任何一个事件时，系统都会将他定义为一个程序，并且给与这个程序一个 ID, 称为 PID, 同时依据启发这个程序的使用者与相关属性关系，给与这个 PID 一组有效的权限设置。</p><ul><li>程序 (program): 通常称为 binary program, 放置在储存媒体中 (如硬盘、光盘、软盘、磁带等), 为实体文件的形态存在。</li><li>程序 (process): 程序被出发后，执行者的权限与属性、程序的程序码与所需数据等都会被载入内存中，操作系统并给与这个内存内的单元一个识别码 (PID), 可以说，程序就是一个正在运行中的程序。</li></ul><h2 id="子程序和父程序"><a class="anchor" href="#子程序和父程序">#</a> 子程序和父程序</h2><hr><p>当我们在目前 bash 环境下，再出发一次 bash</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wyh@wyhlinux:~$ <span class="token function">bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre>wyh@wyhlinux:~$ <span class="token function">ps</span> -l</pre></td></tr><tr><td data-num="3"></td><td><pre>F S   <span class="token environment constant">UID</span>     PID    <span class="token environment constant">PPID</span>  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">0</span> S  <span class="token number">1000</span>   <span class="token number">24462</span>   <span class="token number">24461</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">2008</span> do_wai pts/1    00:00:00 <span class="token function">bash</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">0</span> S  <span class="token number">1000</span>   <span class="token number">25078</span>   <span class="token number">24462</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">1972</span> do_wai pts/1    00:00:00 <span class="token function">bash</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">0</span> R  <span class="token number">1000</span>   <span class="token number">25084</span>   <span class="token number">25078</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">2078</span> -      pts/1    00:00:00 <span class="token function">ps</span></pre></td></tr></table></figure><p>可以发现，第一个 bash 的 PID 就是第二个 bash 的 PPID, 也就说是第一个 bash 产生了第二个 bash, 即第一个 bash 为父程序，第二个 bash 为子程序。</p><h2 id="程序调用的流程"><a class="anchor" href="#程序调用的流程">#</a> 程序调用的流程</h2><hr><ol><li>系统先以 fork 的方式赋值一个与父程序相同的暂存程序，这个程序与父程序唯一的差别就是 PID 不同！但是这个暂存程序还会多一个 PPID 的参数。</li><li>然后暂存程序开始以 exec 的方式载入实际要执行的程序，假设要执行的程序名为 qqq, 那么子程序的程序码就会变成 qqq</li></ol><blockquote><p>服务的概念</p></blockquote><p>常驻在内存当中的程序通常都是负责一些系统所提供的功能以服务使用者各项任务，这些常驻程序被我们称为服务 (deamon), 服务类型的程序都会加上 d 在文件的后头，比如 crond,atd 等</p><h2 id="工作管理"><a class="anchor" href="#工作管理">#</a> 工作管理</h2><hr><p>工作管理 (job control) 就是用在 bash 环境下的，在 bash 环境下可以同时进行多个工作的行为管理。</p><p>假设我们只有一个终端接口，因此可以出现提示字符让我们操作的环境就称为前景 (foreground), 至于其他工作可以放入背景 (后台) 去暂停或运行。</p><ul><li><code>&amp;</code> : 程序后台运行</li></ul><p>使用 <code>&amp;</code> 可以将指令丢到后台去执行</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>java -jar xxx.jar <span class="token operator">&amp;</span> <span class="token comment"># 后台运行一个 jar 包</span></pre></td></tr></table></figure><p>注意：将工作丢到背景中，里面输出的讯息依旧是输出在屏幕上的，但是由于我们无法看到提示字符，所以可以利用数据流冲导向，将输出数据传送至某个文件中</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>java -jar xxx.jar  <span class="token operator">></span> /home/log.txt <span class="token operator"><span class="token file-descriptor important">2</span>></span> /home/logerror.txt <span class="token operator">&amp;</span></pre></td></tr></table></figure><ul><li><p><code>ctrl + z</code> : 将目前的工作丢到后台暂停</p></li><li><p><code>jobs</code> : 观察目前的后台工作状态</p><p>语法: <code>jobs [-lrs]</code></p><p>选项与参数:</p><ul><li><code>[-l]</code> : 除了列出 job number 与指令之外，同时列出 PID 的号码</li><li><code>[-r]</code> : 仅列出正在后台中 run 的工作</li><li><code>[-s]</code> : 仅列出正在后台中 stop 的工作</li></ul></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># jobs -l</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+ <span class="token number">25407</span> Running                 java <span class="token builtin class-name">test</span> <span class="token operator">&amp;</span></pre></td></tr></table></figure><ul><li><p><code>fg</code> ：将后台工作拿到前景来处理</p><p>语法: <code>fg %jobnumer</code></p></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># jobs -l</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>+ <span class="token number">25523</span> Running                 java <span class="token builtin class-name">test</span> <span class="token operator">&amp;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># fg %1</span></pre></td></tr></table></figure><ul><li><code>bg</code> : 让工作在背景下的状态变成运行中</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># java test</span></pre></td></tr><tr><td data-num="2"></td><td><pre>hello world</pre></td></tr><tr><td data-num="3"></td><td><pre>^Z<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>   Killed                  java <span class="token builtin class-name">test</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>+  Stopped                 java <span class="token builtin class-name">test</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 这里要进行的快一点</span></pre></td></tr><tr><td data-num="7"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># bg %2</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>+ java <span class="token builtin class-name">test</span> <span class="token operator">&amp;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment">#</span></pre></td></tr></table></figure><ul><li><p><code>kill</code> : 管理背景中的工作</p><p>语法: <code>kill -signal %jobnumber</code></p><p>选项与参数:</p><ul><li><code>[-l]</code> : 列出目前 kill 能够使用的 signal 有哪些</li><li><code>[-1]</code> : 重新读取一次参数配置 (类似于 reload)</li><li><code>[-2]</code> : 代表由键盘输出 <code>ctrl -c</code> 同样的动作</li><li><code>[-9]</code> : 立刻强制删除一个工作</li><li><code>[-15]</code> : 以正常的程序方式终止一项工作</li></ul></li></ul><p><strong>注意:kill 后面的数字默认是 PID, 如果想要管理 bash 的工作控制，就得加上 % 数字</strong></p><ul><li><p><code>nohup</code> : 如果用户退出的 shell 之后，即使程序使用了 <code>&amp;</code> 在后台进行，也会被中断掉，但是如果加上 nohup, 可以在离线或登出系统后，还能让工作继续进程</p><p>语法: <code>nohup [指令或参数] [&amp;]</code></p></li></ul><h2 id="程序查看"><a class="anchor" href="#程序查看">#</a> 程序查看</h2><hr><ul><li><p><code>ps</code> : 将某个时间点的程序运行情况撷取下来</p><p>语法: <code>ps</code></p><p>选项与参数:</p><ul><li><code>[-A]</code> : 所有的 process 均显示出来</li><li><code>[-a]</code> : 不与 terminal 有关的所有 process</li><li><code>[-u]</code> : 有效使用者相关的 process</li><li><code>[x]</code> : 通常与 a 这个参数一起使用，可列出完整信息</li></ul></li></ul><p>常用组合:</p><ul><li><code>ps aux</code> : 查看系统所有程序数据</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># ps -aux</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token environment constant">USER</span>         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</pre></td></tr><tr><td data-num="3"></td><td><pre>root           <span class="token number">1</span>  <span class="token number">0.0</span>  <span class="token number">0.5</span> <span class="token number">167244</span> <span class="token number">10384</span> ?        Ss   Dec03   <span class="token number">0</span>:04 /sbin/init</pre></td></tr><tr><td data-num="4"></td><td><pre>root           <span class="token number">2</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    Dec03   <span class="token number">0</span>:00 <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="5"></td><td><pre>root           <span class="token number">3</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        I<span class="token operator">&lt;</span>   Dec03   <span class="token number">0</span>:00 <span class="token punctuation">[</span>rcu_gp<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="6"></td><td><pre>root           <span class="token number">4</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        I<span class="token operator">&lt;</span>   Dec03   <span class="token number">0</span>:00 <span class="token punctuation">[</span>rcu_par_gp<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="7"></td><td><pre>root           <span class="token number">6</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        I<span class="token operator">&lt;</span>   Dec03   <span class="token number">0</span>:00 <span class="token punctuation">[</span>kworker/0:0H-kbloc</pre></td></tr><tr><td data-num="8"></td><td><pre>root           <span class="token number">8</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        I<span class="token operator">&lt;</span>   Dec03   <span class="token number">0</span>:00 <span class="token punctuation">[</span>mm_percpu_wq<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>root           <span class="token number">9</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    Dec03   <span class="token number">0</span>:00 <span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="10"></td><td><pre>root          <span class="token number">10</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        I    Dec03   <span class="token number">0</span>:02 <span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="11"></td><td><pre>root          <span class="token number">11</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    Dec03   <span class="token number">0</span>:00 <span class="token punctuation">[</span>migration/0<span class="token punctuation">]</span></pre></td></tr></table></figure><p>参数详解:</p><ul><li><code>USER</code> : 该 process 属于的用户</li><li><code>PID</code> : 该 process 的程序识别码</li><li><code>%CPU</code> : 使用掉的 CPU 资源百分比</li><li><code>%MEM</code> : 该程序占用的实体内存百分比</li><li><code>VSZ</code> : 使用掉的虚拟内存量 (KB)</li><li><code>RSS</code> : 使用的固定内存量</li><li><code>TTY</code> : 在哪个终端机上运行，tt1-tty6 是本机上的登陆者程序，pst/n 是远程连接</li><li><code>STAT</code> : 目前的状态，与 ps -l 的 S 旗标相同</li><li><code>TIME</code> : 实际使用 CPU 的时间</li><li><code>COMMAND</code> : 实际的指令</li></ul><hr><ul><li><code>ps -l</code> : 仅查看自己的 bash 相关程序</li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># ps -l</span></pre></td></tr><tr><td data-num="2"></td><td><pre>F S   <span class="token environment constant">UID</span>     PID    <span class="token environment constant">PPID</span>  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">4</span> S     <span class="token number">0</span>   <span class="token number">25245</span>   <span class="token number">25078</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">2549</span> do_wai pts/1    00:00:00 <span class="token function">su</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">4</span> S     <span class="token number">0</span>   <span class="token number">25246</span>   <span class="token number">25245</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">2173</span> do_wai pts/1    00:00:01 <span class="token function">bash</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">0</span> S     <span class="token number">0</span>   <span class="token number">25573</span>   <span class="token number">25246</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">622935</span> futex_ pts/1   00:00:01 java</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">4</span> R     <span class="token number">0</span>   <span class="token number">25620</span>   <span class="token number">25246</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">2078</span> -      pts/1    00:00:00 <span class="token function">ps</span></pre></td></tr></table></figure><p>参数详解:</p><ul><li><p><code>F</code> : 代表这个程序旗标，说明这个程序的总结权限</p><ul><li><p>若为 4 表示此程序的权限为 root</p></li><li><p>若为 1 则表示此子程序仅进程复制 (fork) 而没有实际执行 (exec)</p></li></ul></li><li><p><code>S</code> : 代表这个程序的状态</p><ul><li>R (Running): 正在运行</li><li>S (Sleep): 正在睡眠，可被唤醒</li><li>D: 不可被唤醒的睡眠</li><li>T: 停止状态</li><li>Z: 僵尸状态，程序以及种植但却无法被移除到内存外</li></ul></li><li><p><code>UID/PID/PPID</code> : 代表此程序被 UID 所拥有 / 程序的 PID / 与父程序的 PID 号</p></li><li><p><code>C</code> : 代表 CPU 使用率，单位为百分比</p></li><li><p><code>PRI/NI</code> : 被 CPU 锁执行的优先顺序，数值越小越先被 CPU 执行。</p></li><li><p><code>ADDR/SZ/WCHAN</code> : 都与内存有关，ADDR 指出程序在内存那个部分，SZ 代表程序用掉多少内存，WCHAN 百世程序是否在运行中， <code>-</code> 代表由运行中</p></li><li><p><code>TTY</code> : 登陆者的终端机位置，若远程登录则使用动态终端接口 (pts/n)</p></li><li><p><code>TIME</code> : 使用掉的 CPU 时间</p></li><li><p><code>CMD</code> : 造成此程序的触发指令</p></li><li><p>top: 动态观察程序的变化</p><p>选项与参数:</p><ul><li><code>[-d]</code> : 后面可以接秒数，就是整个程序画面更新的秒数。默认是 5 秒</li><li><code>[-b]</code> : 以批次的方式执行 top, 通常会搭配数据流重导向来将批次的结果输出成文件</li><li><code>[-n]</code> : 与 - b 搭配，需要进行几次 top 的输出结果</li><li><code>[-p]</code> : 指定某个 PID 观察检测</li></ul><p>在 top 执行过程中可以使用的按键指令:</p><ul><li><code>?</code> : 显示在 tip 当中可以输入的按键指令</li><li><code>P</code> : 以 CPU 的使用资源排序显示</li><li><code>M</code> : 以 Memory 的使用资源排序显示</li><li><code>N</code> : 以 PID 来排序</li><li><code>T</code> : 以使用的 CPU 时间累积 (TIME) 排序</li><li><code>k</code> : 给与某个 PID 一个讯号</li><li><code>q</code> : 离开 top</li></ul></li></ul><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 这一行显示的是</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 开机时间</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 开机到目前为止所经过的时间</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 已经登录系统的人数</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 系统在 1,5,15 分钟的平均工作负载，越小说明越闲置，大于 1 需要注意一下</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">top</span> - <span class="token number">17</span>:59:00 up <span class="token number">1</span> day,  <span class="token number">2</span>:48,  <span class="token number">3</span> users,  load average: <span class="token number">0.02</span>, <span class="token number">0.03</span>, <span class="token number">0.00</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 显示目前程序的总量和个别程序的状态，注意 zombie (僵尸进程)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>Tasks: <span class="token number">129</span> total,   <span class="token number">1</span> running, <span class="token number">128</span> sleeping,   <span class="token number">0</span> stopped,   <span class="token number">0</span> zombie</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># cpu 的整体负载</span></pre></td></tr><tr><td data-num="10"></td><td><pre>%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  <span class="token number">0.0</span> us,  <span class="token number">0.2</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">99.8</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.0</span> hi,  <span class="token number">0.0</span> si,  <span class="token number">0.0</span> st</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 表示目前的实体内存和虚拟内存，swap 应尽量的小</span></pre></td></tr><tr><td data-num="12"></td><td><pre>MiB Mem <span class="token builtin class-name">:</span> <span class="token number">16.3</span>/1980.1   <span class="token punctuation">[</span><span class="token operator">||</span><span class="token operator">||</span><span class="token operator">||</span><span class="token operator">||</span><span class="token operator">||</span>                                                 <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="13"></td><td><pre>MiB Swap:  <span class="token number">0.0</span>/2048.0   <span class="token punctuation">[</span>                                                           <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    PID <span class="token environment constant">USER</span>      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND       </pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token number">25897</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.01 kworker/1:4-e+</pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token number">25886</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.06 kworker/u4:2-+</pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token number">25868</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 kworker/0:4-e+</pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token number">25867</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 kworker/0:2-c+</pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token number">25866</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.02 kworker/0:0-m+</pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token number">25865</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 kworker/1:3-e+</pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token number">25831</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 kworker/1:1-e+</pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token number">25812</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.08 kworker/u4:0-+</pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token number">25764</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 kworker/0:1-e+</pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token number">25763</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.03 kworker/1:2-c+</pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token number">25731</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 kworker/1:0-e+</pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token number">25729</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.18 kworker/u4:1-+</pre></td></tr><tr><td data-num="28"></td><td><pre>  <span class="token number">25693</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.03 kworker/0:3-c+</pre></td></tr></table></figure><ul><li><p>free: 观察内存使用情况</p><p>选项与参数</p><ul><li><code>[-b]</code> : 直接输入 free, 显示的单位是 KB, 也可以自己指定单位，需要输入 <code>-h b/m/k/g</code></li><li><code>[-t]</code> : 在输出的最终结果，显示实体内存与 swap 的总量</li><li><code>[-s]</code> ：可以让系统每几秒钟输出一次，不间断的一直输出的意思</li><li><code>[-c]</code> : 可以与 - s 同时处理，让 free 列出几次的意思</li></ul></li><li><p>uname: 查阅系统与核心相关信息</p><p>选项与参数:</p><ul><li><code>[-a]</code> : 所有系统相关的信息，包括下面的数据都会被列出来</li><li><code>[-s]</code> : 系统核心名称</li><li><code>[-r]</code> : 核心的版本</li><li><code>[-m]</code> : 本系统的硬件名称，如 x86_64</li><li><code>[-p]</code> :CPU 的类型</li><li><code>[-i]</code> : 硬件的平台</li></ul></li><li><p>uptime: 观察系统启动时间与工作负载</p></li><li><p>netstat: 追踪网络或插槽</p><p>语法: <code>netstat -[atunlp]</code></p><p>选项与参数:</p><ul><li><code>[-a]</code> : 将目前系统上所有的连接、监听、socket 数据都列出来</li><li><code>[-t]</code> : 列出 tcp 网络封包的数据</li><li><code>[-u]</code> : 列出 udp 网络封包的数据</li><li><code>[-l]</code> : 列出目前正在网络监听的服务</li><li><code>[-p]</code> : 列出该网络服务的程序 PID</li></ul></li></ul><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>root@wyhlinux:/home/wyh<span class="token comment"># netstat</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Active Internet connections <span class="token punctuation">(</span>w/o servers<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># Proto: 网络的封包协定</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># Recv-Q: 非由使用者程序链接到此 socket 的复制的总 Bytes 数</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># Send-Q: 非由远端主机传送过来的 acknowledged 总 Bytes 数</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># Local Address: 本地端的 IP:port 情况</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># Foreign Address : 远端主机的 IP:port 情况</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># State: 连线状态，主要有创建 (ESTABLISED) 及监听 (LISTEN)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>Proto Recv-Q Send-Q Local Address           Foreign Address         State      </pre></td></tr><tr><td data-num="10"></td><td><pre>tcp        <span class="token number">0</span>    <span class="token number">176</span> wyhlinux:ssh            <span class="token number">10.211</span>.55.2:56916       ESTABLISHED</pre></td></tr><tr><td data-num="11"></td><td><pre>tcp        <span class="token number">0</span>      <span class="token number">0</span> wyhlinux:ssh            <span class="token number">10.211</span>.55.2:56929       ESTABLISHED</pre></td></tr><tr><td data-num="12"></td><td><pre>Active UNIX domain sockets <span class="token punctuation">(</span>w/o servers<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>Proto RefCnt Flags       Type       State         I-Node   Path</pre></td></tr><tr><td data-num="14"></td><td><pre>unix  <span class="token number">2</span>      <span class="token punctuation">[</span> <span class="token punctuation">]</span>         DGRAM                    <span class="token number">52805</span>    /run/user/1000/systemd/notify</pre></td></tr></table></figure><h1 id="系统服务"><a class="anchor" href="#系统服务">#</a> 系统服务</h1><hr><p>系统为了某些功能必须要提供一些服务，这个服务就成为 service, 但是服务的提供总是需要程序运行，是靠 daemon 来达成服 service 的。例如达成循环型例行性工作调度的服务程序为 crond 这个 daemon。</p><p>CentOS.7x 以后，改用 systemd 这个启动服务管理机制，有如下特点:</p><ul><li>平行处理所有服务，加速开机流程</li><li>一经要求就回应的 on-demand 启动方式:system 全部就只有一只 systemd 服务搭配 systemctl 指令来处理</li><li>服务相依性的自我检查，如果 B 服务是依赖于 A 服务，在没有启动 A 服务的情况下启动 B 服务，systemd 就会自动帮你启动 A 服务</li></ul><h2 id="systemctl管理服务"><a class="anchor" href="#systemctl管理服务">#</a> systemctl 管理服务</h2><hr><p>基本上，systemd 这个启动服务的机制，主要是通过一只名为 systemctl 的指令来处理的。</p><ul><li><p>systemctl</p><p>语法: <code>systemctl [command] [unit]</code></p><p>command 主要有:</p><ul><li><code>start</code> : 立即启动后面接的 unit</li><li><code>stop</code> : 立即关闭后面接的 unit</li><li><code>restart</code> : 立即关闭启动后面接的 unit, 亦即之心 stop 再 start 的意思</li><li><code>reload</code> : 不关闭后接的 unit 的情况下，重新载入配置文件，让设置生效</li><li><code>enable</code> : 设置下次开机时，后面接的 unit 会被启动</li><li><code>disable</code> : 设置下次开机时，后面接的 unit 不会被启动</li><li><code>status</code> : 目前后面接的这个 unit 的状态</li><li><code>is-active</code> : 表示目前没有正常运行中</li><li><code>is-enable</code> : 开机时候有没有默认要启动这个 unit</li></ul></li></ul><div class="tags"><a href="/tags/linux/" rel="tag"><i class="ic i-tag"></i> linux</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"><i class="ic i-tag"></i> 操作系统</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-12-05 23:38:08" itemprop="dateModified" datetime="2021-12-05T23:38:08+08:00">2021-12-05</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>故犹 <i class="ic i-at"><em>@</em></i>努力走,走到灯火通明</li><li class="link"><strong>本文链接：</strong> <a href="https://guyouwyh.github.io/guyouwyh/2021/10/21/%E8%BF%90%E7%BB%B4/linux%E5%9F%BA%E7%A1%80/" title="linux基础">https://guyouwyh.github.io/guyouwyh/2021/10/21/运维/linux基础/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/10/21/%E5%90%8E%E7%AB%AF/Java/Java%E5%B8%B8%E7%94%A8%E7%B1%BB/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;15&#x2F;B735tDMiU2eZFjK.jpg" title="Java的常用类"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Java基础</span><h3>Java的常用类</h3></a></div><div class="item right"><a href="/2021/10/21/%E5%89%8D%E7%AB%AF/Js/Jquery/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;15&#x2F;b3sx9vieEGjrnaB.jpg" title="Jquery笔记"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> JavaScript</span><h3>Jquery笔记</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%8C%87%E4%BB%A4%E6%93%8D%E4%BD%9C"><span class="toc-number">1.</span> <span class="toc-text">基础指令操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%97%A5%E6%9C%9F%E7%9A%84%E6%8C%87%E4%BB%A4-date"><span class="toc-number">1.1.</span> <span class="toc-text">显示日期的指令 - date</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%97%A5%E5%8E%86%E7%9A%84%E6%8C%87%E4%BB%A4-call"><span class="toc-number">1.2.</span> <span class="toc-text">显示日历的指令 - call</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA-bc"><span class="toc-number">1.3.</span> <span class="toc-text">简单好用的计算机 - bc</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%9A%84%E7%83%AD%E9%94%AE"><span class="toc-number">2.</span> <span class="toc-text">重要的热键</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#linux%E7%9A%84%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E4%B8%8E%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">Linux 的文件权限与目录配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%8B%A5%E6%9C%89%E8%80%85-%E7%BE%A4%E7%BB%84-%E5%85%B6%E4%BB%96%E4%BA%BA"><span class="toc-number">3.1.</span> <span class="toc-text">文件拥有者、群组、其他人</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%A6%82%E5%BF%B5"><span class="toc-number">3.2.</span> <span class="toc-text">Linux 文件权限概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">3.2.1.</span> <span class="toc-text">Linux 文件属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%E4%B8%8E%E6%9D%83%E9%99%90"><span class="toc-number">3.2.2.</span> <span class="toc-text">修改文件属性与权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6%E7%9A%84%E6%9D%83%E9%99%90%E6%84%8F%E4%B9%89"><span class="toc-number">3.2.3.</span> <span class="toc-text">目录与文件的权限意义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%87%E4%BB%B6%E7%A7%8D%E7%B1%BB%E4%B8%8E%E6%89%A9%E5%B1%95%E5%90%8D"><span class="toc-number">3.2.4.</span> <span class="toc-text">常用文件种类与扩展名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE"><span class="toc-number">3.3.</span> <span class="toc-text">linux 目录配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9Blinux%E5%B8%B8%E7%94%A8%E7%9A%84%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.4.</span> <span class="toc-text">一些 linux 常用的目录介绍</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#linux%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">Linux 文件与目录管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E4%B8%8E%E8%B7%AF%E5%BE%84"><span class="toc-number">4.1.</span> <span class="toc-text">目录与路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95"><span class="toc-number">4.2.</span> <span class="toc-text">文件与目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.3.</span> <span class="toc-text">文件内容查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%9A%84%E9%BB%98%E8%AE%A4%E6%9D%83%E9%99%90%E4%B8%8E%E9%9A%90%E8%97%8F%E6%9D%83%E9%99%90"><span class="toc-number">4.4.</span> <span class="toc-text">文件与目录的默认权限与隐藏权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E4%B8%8E%E6%96%87%E4%BB%B6%E7%9A%84%E6%90%9C%E5%AF%BB"><span class="toc-number">4.5.</span> <span class="toc-text">指令与文件的搜寻</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%8E%8B%E7%BC%A9%E4%B8%8E%E6%89%93%E5%8C%85"><span class="toc-number">5.</span> <span class="toc-text">文件的压缩与打包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%92%8C%E6%89%93%E5%8C%85%E6%96%87%E4%BB%B6%E6%89%A9%E5%B1%95%E5%90%8D"><span class="toc-number">5.1.</span> <span class="toc-text">压缩和打包文件扩展名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E6%8C%87%E4%BB%A4"><span class="toc-number">5.2.</span> <span class="toc-text">常见的压缩 &#x2F; 解压指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E6%8C%87%E4%BB%A4"><span class="toc-number">5.3.</span> <span class="toc-text">打包指令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">6.</span> <span class="toc-text">vim 程序编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vi%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.1.</span> <span class="toc-text">vi 的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E6%8C%87%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%B8%B8%E7%94%A8%E6%8C%89%E9%94%AE"><span class="toc-number">6.2.</span> <span class="toc-text">一般指令模式常用按键</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%B8%B8%E7%94%A8%E6%8C%89%E9%94%AE"><span class="toc-number">6.3.</span> <span class="toc-text">命令行命令模式常用按键</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bash"><span class="toc-number">7.</span> <span class="toc-text">Bash</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#bash%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">7.1.</span> <span class="toc-text">Bash 的功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E5%8F%98%E9%87%8F"><span class="toc-number">7.2.</span> <span class="toc-text">Shell 变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D%E4%B8%8E%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95"><span class="toc-number">7.3.</span> <span class="toc-text">命令别名与历史记录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">7.4.</span> <span class="toc-text">环境变量的功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bash-shell%E7%9A%84%E6%93%8D%E4%BD%9C%E7%8E%AF%E5%A2%83"><span class="toc-number">7.5.</span> <span class="toc-text">Bash Shell 的操作环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%87%8D%E5%AF%BC%E5%90%91"><span class="toc-number">7.6.</span> <span class="toc-text">数据重导向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E7%BA%BF%E5%91%BD%E4%BB%A4pipe"><span class="toc-number">7.7.</span> <span class="toc-text">管线命令 (pipe)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%92%B7xie%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="toc-number">7.8.</span> <span class="toc-text">撷 (xie) 取命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E5%91%BD%E4%BB%A4"><span class="toc-number">7.9.</span> <span class="toc-text">字符串转换命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#shell-scrpit"><span class="toc-number">8.</span> <span class="toc-text">Shell Scrpit</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell-scrpit%E7%BC%96%E5%86%99%E7%9A%84%E6%97%B6%E5%80%99%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.1.</span> <span class="toc-text">Shell Scrpit 编写的时候的注意事项:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">8.2.</span> <span class="toc-text">执行脚本的方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AAshell-scrpit"><span class="toc-number">8.3.</span> <span class="toc-text">第一个 shell scrpit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#script%E7%9A%84%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F%E5%B7%AE%E5%BC%82"><span class="toc-number">8.4.</span> <span class="toc-text">script 的执行方式差异</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E7%AC%A6%E5%8F%B7"><span class="toc-number">8.5.</span> <span class="toc-text">判断符号 []</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%98%E9%87%8F"><span class="toc-number">8.6.</span> <span class="toc-text">默认变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%BC%8F"><span class="toc-number">8.7.</span> <span class="toc-text">条件判断式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">8.8.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">8.9.</span> <span class="toc-text">循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%AE%9A%E5%BE%AA%E7%8E%AF"><span class="toc-number">8.9.1.</span> <span class="toc-text">不定循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BA%E5%AE%9A%E5%BE%AA%E7%8E%AF"><span class="toc-number">8.9.2.</span> <span class="toc-text">固定循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E7%9A%84%E8%BF%BD%E8%B8%AA%E4%B8%8Edebug"><span class="toc-number">8.10.</span> <span class="toc-text">shell 的追踪与 debug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E4%B8%AD%E5%90%84%E7%A7%8D%E6%8B%AC%E5%8F%B7%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">8.11.</span> <span class="toc-text">shell 中各种括号的作用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#linux%E7%9A%84%E8%B4%A6%E5%8F%B7%E4%B8%8E%E7%BE%A4%E7%BB%84"><span class="toc-number">9.</span> <span class="toc-text">Linux 的账号与群组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#uid%E4%B8%8Egid"><span class="toc-number">9.1.</span> <span class="toc-text">UID 与 GID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BE%A4%E7%BB%84"><span class="toc-number">9.2.</span> <span class="toc-text">群组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E4%B8%8E%E7%A7%BB%E9%99%A4%E7%BE%A4%E7%BB%84"><span class="toc-number">9.2.1.</span> <span class="toc-text">新增与移除群组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86"><span class="toc-number">9.3.</span> <span class="toc-text">账号管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E4%B8%8E%E7%A7%BB%E9%99%A4%E4%BD%BF%E7%94%A8%E8%80%85"><span class="toc-number">9.3.1.</span> <span class="toc-text">新增与移除使用者</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2"><span class="toc-number">9.3.2.</span> <span class="toc-text">用户切换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%BD%BF%E7%94%A8%E8%80%85"><span class="toc-number">9.4.</span> <span class="toc-text">查询使用者</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BE%8B%E8%A1%8C%E6%80%A7%E5%B7%A5%E4%BD%9C%E8%B0%83%E5%BA%A6"><span class="toc-number">10.</span> <span class="toc-text">例行性工作调度</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#at"><span class="toc-number">10.1.</span> <span class="toc-text">at</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#crontab"><span class="toc-number">10.2.</span> <span class="toc-text">crontab</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E7%AE%A1%E7%90%86"><span class="toc-number">11.</span> <span class="toc-text">程序管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E7%A8%8B%E5%BA%8F%E5%92%8C%E7%88%B6%E7%A8%8B%E5%BA%8F"><span class="toc-number">11.1.</span> <span class="toc-text">子程序和父程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E8%B0%83%E7%94%A8%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-number">11.2.</span> <span class="toc-text">程序调用的流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86"><span class="toc-number">11.3.</span> <span class="toc-text">工作管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E6%9F%A5%E7%9C%8B"><span class="toc-number">11.4.</span> <span class="toc-text">程序查看</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1"><span class="toc-number">12.</span> <span class="toc-text">系统服务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#systemctl%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1"><span class="toc-number">12.1.</span> <span class="toc-text">systemctl 管理服务</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/10/21/%E8%BF%90%E7%BB%B4/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="bookmark" title="Docker的学习笔记">Docker的学习笔记</a></li><li class="active"><a href="/2021/10/21/%E8%BF%90%E7%BB%B4/linux%E5%9F%BA%E7%A1%80/" rel="bookmark" title="linux基础">linux基础</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="故犹" data-src="/images/avatar.jpg"><p class="name" itemprop="name">故犹</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">122</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">32</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">71</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2d1eW91d3lo" title="https:&#x2F;&#x2F;github.com&#x2F;guyouwyh"><i class="ic i-github"></i></span> <a href="/821403296@qq.com" title="821403296@qq.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-link"></i>友链</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-magic"></i>常用网站</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/10/21/%E5%90%8E%E7%AB%AF/Java/Java%E5%B8%B8%E7%94%A8%E7%B1%BB/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/10/21/%E5%89%8D%E7%AB%AF/Js/Jquery/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" title="分类于 Java基础">Java基础</a></div><span><a href="/2021/10/21/%E5%90%8E%E7%AB%AF/Java/jvm1/" title="JVM笔记(一)-概述">JVM笔记(一)-概述</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/" title="分类于 单调队列">单调队列</a></div><span><a href="/2022/02/22/%E7%AE%97%E6%B3%95/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/P1638%20%E9%80%9B%E7%94%BB%E5%B1%95/" title="【洛谷】P1638 逛画展">【洛谷】P1638 逛画展</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%90%8E%E7%AB%AF/Spring%E6%A1%86%E6%9E%B6/" title="分类于 Spring框架">Spring框架</a></div><span><a href="/2021/10/21/%E5%90%8E%E7%AB%AF/Spring%E6%A1%86%E6%9E%B6/SpringMVC3/" title="SpringMCV(三)">SpringMCV(三)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%90%8E%E7%AB%AF/Spring%E6%A1%86%E6%9E%B6/" title="分类于 Spring框架">Spring框架</a></div><span><a href="/2021/10/21/%E5%90%8E%E7%AB%AF/Spring%E6%A1%86%E6%9E%B6/Spring/" title="Spring5.x笔记">Spring5.x笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E5%8A%9B%E6%89%A3%E5%91%A8%E8%B5%9B/" title="分类于 力扣周赛">力扣周赛</a></div><span><a href="/2021/11/17/%E7%AE%97%E6%B3%95/%E5%8A%9B%E6%89%A3%E5%91%A8%E8%B5%9B/267/" title="【力扣周赛】第267场">【力扣周赛】第267场</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%BF%90%E7%BB%B4/" title="分类于 运维">运维</a></div><span><a href="/2021/10/21/%E8%BF%90%E7%BB%B4/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker的学习笔记">Docker的学习笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 数据库">数据库</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/" title="分类于 Redis">Redis</a></div><span><a href="/2021/10/21/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/redis/" title="Redis笔记">Redis笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/" title="分类于 搜索">搜索</a></div><span><a href="/2021/10/28/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/%E5%85%A8%E6%8E%92%E5%88%97/" title="【力扣】47.全排列">【力扣】47.全排列</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" title="分类于 Java基础">Java基础</a></div><span><a href="/2021/10/20/%E5%90%8E%E7%AB%AF/Java/%E5%8F%8D%E5%B0%84/" title="Java反射">Java反射</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83/" title="分类于 贪心">贪心</a></div><span><a href="/2021/10/27/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83/%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA/" title="【力扣】121.买卖股票的最佳时机">【力扣】121.买卖股票的最佳时机</a></span></li></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">故犹 @ GuYou</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">488k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">7:24</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/10/21/运维/linux基础/",favicon:{show:"加载中",hide:"OvO"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->