<!-- build time:Sat Apr 02 2022 13:54:30 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color=""><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="努力走,走到灯火通明" href="https://guyouwyh.github.io/guyouwyh/rss.xml"><link rel="alternate" type="application/atom+xml" title="努力走,走到灯火通明" href="https://guyouwyh.github.io/guyouwyh/atom.xml"><link rel="alternate" type="application/json" title="努力走,走到灯火通明" href="https://guyouwyh.github.io/guyouwyh/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="容器,docker"><link rel="canonical" href="https://guyouwyh.github.io/guyouwyh/2021/10/21/%E8%BF%90%E7%BB%B4/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><title>Docker的学习笔记 - 运维 | GuYou = 努力走,走到灯火通明</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Docker的学习笔记</h1><div class="meta"><span class="item" title="创建时间：2021-10-21 19:17:42"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-10-21T19:17:42+08:00">2021-10-21</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>9.6k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>9 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">GuYou</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="http://cdn.guyouwyh.cool/47.jpg"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%BF%90%E7%BB%B4/" itemprop="item" rel="index" title="分类于 运维"><span itemprop="name">运维</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://guyouwyh.github.io/guyouwyh/2021/10/21/%E8%BF%90%E7%BB%B4/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="故犹"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="努力走,走到灯火通明"></span><div class="body md" itemprop="articleBody"><h1 id="简介"><a class="anchor" href="#简介">#</a> 简介</h1><p><mark>Docker 是一个容器技术</mark></p><p>Docker 的优势:</p><ul><li>一致的运行环境，更轻松的迁移</li><li>对进程进行封装隔离，容器与容器之间互不影响，更高效的利用系统资源</li><li>通过镜像复制 N 多个环境一致的容器</li></ul><h1 id="安装docker"><a class="anchor" href="#安装docker">#</a> 安装 Docker</h1><blockquote><p>linux 下安装 Docker</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">curl</span> -fsSL get.docker.com -o get-docker.sh	</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh --mirror Aliyun</pre></td></tr></table></figure><blockquote><p>启动服务</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>systemctl  status <span class="token operator">|</span> start <span class="token operator">|</span> restart docker</pre></td></tr></table></figure><blockquote><p>检测 docker 启动成功</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker info</pre></td></tr></table></figure><blockquote><p>创建 docker 用户组</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">groupadd</span> docker</pre></td></tr></table></figure><blockquote><p>将当前用户加入 docker 组</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">usermod</span> -aG docker <span class="token environment constant">$USER</span></pre></td></tr></table></figure><blockquote><p>测试 docker 安装是否正确</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run hello-world</pre></td></tr></table></figure><h1 id="docker的核心架构和核心概念"><a class="anchor" href="#docker的核心架构和核心概念">#</a> Docker 的核心架构和核心概念</h1><h2 id="镜像image"><a class="anchor" href="#镜像image">#</a> 镜像 (image)</h2><blockquote><p>定义</p></blockquote><p>一个镜像代表一个软件</p><h2 id="容器container"><a class="anchor" href="#容器container">#</a> 容器 (container)</h2><blockquote><p>定义</p></blockquote><p>基于某个镜像运行一次就生成一个程序实例，一个程序实例成为一个容器</p><blockquote><p>特点</p></blockquote><p>可读可写</p><h2 id="仓库respository"><a class="anchor" href="#仓库respository">#</a> 仓库 (respository)</h2><blockquote><p>定义</p></blockquote><p>用来存储 docker 中所有镜像的具体位置</p><blockquote><p>远程仓库</p></blockquote><p>docker 在世界范围维护一个唯一的永城仓库</p><blockquote><p>本地仓库</p></blockquote><p>当前自己及其中下载镜像的存储位置</p><h1 id="docker镜像操作"><a class="anchor" href="#docker镜像操作">#</a> Docker 镜像操作</h1><ul><li><p><code>docker info</code> : 用来展示 docker 信息 (版本等)</p></li><li><p><code>docker version</code> ：查看 docker 的版本号</p></li><li><p><code>docker images</code> : 查看本地 docker 的所有镜像</p></li><li><p><code>docker pull 镜像名称:版本号</code> ：下载镜像</p></li><li><p><code>docker search 镜像名</code> ：搜索镜像</p></li><li><p><code>docker image rm 镜像名</code> ：删除镜像，可以简写为 <code>docker rmi</code></p></li></ul><h1 id="dokcer容器操作"><a class="anchor" href="#dokcer容器操作">#</a> Dokcer 容器操作</h1><blockquote><p>运行容器</p></blockquote><ul><li><code>docker run 镜像名:tag|镜像id</code> : 运行容器</li><li><code>docker run -p 8080:8080 镜像名</code> ：宿主机端口与容器中端口映射，前者为宿主机端口，后者为容器中的端口，-p 可以写多个</li><li><code>docker run -d -p 8080:8080 --name 容器名称 镜像名</code> :-d 是后台启动，--name 是容器名称，必须唯一</li></ul><blockquote><p>查看当前正在运行的容器</p></blockquote><ul><li><p><code>docker ps</code> : 查看正在运行的容器</p></li><li><p><code>dokcer ps -a</code> : 查看所有容器</p></li><li><p><code>docker ps -q</code> : 返回正在运行容器 id</p></li><li><p><code>docker ps -qa</code> : 返回所有正在运行的容器 id</p></li></ul><blockquote><p>停止、重启容器的命令</p></blockquote><ul><li><code>docker start 容器名字或者容器id</code> : 开启容器</li><li><code>docker restart 容器名字或者容器id</code> : 重启容器</li><li><code>docker stop 容器名字或者容器id</code> : 正常停止容器运行</li><li><code>docker kill 容器名字或者容器id</code> : 立即停止容器运行</li></ul><blockquote><p>删除容器</p></blockquote><ul><li><code>docker rm 容器名称或容器id</code> : 删除停止的容器</li><li><code>docker rm -f 容器名称或容器id</code> : 删除正在运行的容器</li><li><code>docker rm -f $(docker ps -aq)</code> : 删除所有容器</li></ul><blockquote><p>查看容器内服务运行日志</p></blockquote><ul><li><code>docker logs 容器id或容器名称</code> ：查看日志</li><li><code>docker logs -f 容器id或容器名称</code> ：实时展示日志</li><li><code>docker logs -tf 容器id或容器名称</code> ：加入时间戳实时展示日志</li><li><code>docker logs --tail n 容器id或容器名称</code> ：查看容器日志最后 n 行</li></ul><blockquote><p>查看容器内进程</p></blockquote><p><code>docker top 容器id或容器名称</code> ：查看容器内的进程</p><blockquote><p>与容器内进行交互</p></blockquote><p><code>docker exec -it 容器id或者容器名 bash</code> : 进入容器内的命令行</p><p><code>exit</code> ：退出容器</p><blockquote><p>操作系统与容器传输文件</p></blockquote><p><code>docker cp 容器唯一标识:容器内资源路径 外部文件路径或目录路径</code> ：从容器复制文件到操作系统</p><p><code>docker cp 文件或文件目录 容器唯一标识:容器内资源路径</code> ：从操作系统复制文件到容器</p><blockquote><p>查看容器内部细节</p></blockquote><p><code>docker inspect 容器id或容器名字</code></p><blockquote><p>数据卷 Volume</p></blockquote><p>作用：实现宿主机系统与容器之间的文件共享</p><blockquote><p>数据卷使用</p></blockquote><ul><li><p><code>docker run -d -p 8080:8080 --name tomcat01 -v 宿主机目录(绝对路径):容器内目录 tomcat:8.0jre</code> : 自定义数据卷目录，会把容器内的目录清空</p></li><li><p><code>docker run -d -p 8080:8080 --name tomcat01 -v 自定义名称:容器内目录 tomcat:8.0jre</code></p></li></ul><p>注意:</p><ol><li><p>自定义名称代表一个数据卷的名字，可以随便写，docker 在不存在时自动创建这个数据卷同时自动映射宿主机中某个目录</p></li><li><p>同时在启动容器时会将 aa 对应容器目录中全部内容复制到 aa 映射目录中</p></li></ol><blockquote><p>把容器打包成镜像</p></blockquote><p><code>docker commit -m &quot;描述&quot; -a &quot;作者信息&quot; 容器名字或者id 镜像名:标签</code></p><blockquote><p>将镜像备份</p></blockquote><p><code>docker save 镜像名称:Tag -o 文件名</code></p><blockquote><p>载入镜像</p></blockquote><p><code>docker load -i 要载入的tar包名</code></p><h1 id="镜像分层原理"><a class="anchor" href="#镜像分层原理">#</a> 镜像分层原理</h1><blockquote><p>镜像</p></blockquote><p>定义：一个镜像代表一个软件、软件包、用来打包软件运行环境和基于环境开发的软件，它包含运行某个软件需要的所有内容，包括代码、运行时所需的库、环境变量和配置文件</p><blockquote><p>镜像为什么这么大？</p></blockquote><p>原因；一个软件镜像不仅仅是原来软件包，包含软件包所需的操作系统依赖、软件自身依赖 / 以及自身软件包组成</p><blockquote><p>为什么 docker 镜像采用分层镜像原理</p></blockquote><p>注意:docker 在设计镜像时每一个镜像都有 n 个镜像共同组成</p><h1 id="网桥机制"><a class="anchor" href="#网桥机制">#</a> 网桥机制</h1><blockquote><p>为什么提供网络功能</p></blockquote><p>Docker 允许通过外部访问容器互联的方式来提供网络服务</p><blockquote><p>docker 网络使用</p></blockquote><p>注意：一般在使用 docker 网桥实现容器与容器通信时，都是站在一个应用角度进行容器通信</p><blockquote><p>查看 docker 网桥配置</p></blockquote><p><code>docker network ls</code></p><blockquote><p>创建自定义网桥</p></blockquote><p><code>docker network create 网络名称</code></p><blockquote><p>创建容器的时候指定网桥</p></blockquote><p><code>docker run -d -p 8080:8080 --name tomcat01 --network ems tomcat:8.0jre</code></p><p>注意：一旦指定网桥之后，容器名称和 ip 地址会进行映射</p><blockquote><p>查看容器细节</p></blockquote><p><code>docker inspect 容器名称或id</code></p><blockquote><p>删除网桥</p></blockquote><p><code>docker network rm 网桥名称</code></p><h1 id="数据卷"><a class="anchor" href="#数据卷">#</a> 数据卷</h1><blockquote><p>数据卷作用</p></blockquote><p>用来实现容器与宿主机之间数据共享</p><blockquote><p>数据卷特点</p></blockquote><ul><li>数据卷可以在容器之间共享和重用</li><li>对数据卷的修改会立即影响到对应容器</li><li>对数据卷的更新修改，不会影响镜像</li><li>数据卷默认会一直存在，即使容器被删除</li></ul><blockquote><p>docker 操作数据卷指令</p></blockquote><p><code>docker volume ls</code> : 查看数据卷</p><p><code>docker volume inspect 卷名</code> ：查看数据卷的细节</p><p><code>docker volume create 卷名</code> ：创建数据卷</p><p><code>docker volume prune 卷名</code> ：删除没有使用的数据卷</p><p><code>docker volume rm 卷名</code> ：删除指定数据卷</p><h1 id="docker核心架构图"><a class="anchor" href="#docker核心架构图">#</a> docker 核心架构图</h1><p><img data-src="https://tva1.sinaimg.cn/large/008i3skNgy1gtfa8pb29rj61200jsabj02.jpg" alt="image-20210813172005145"></p><h1 id="docker安装mysql"><a class="anchor" href="#docker安装mysql">#</a> Docker 安装 Mysql</h1><ol><li>下载对应的镜像</li></ol><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker pull mysql:5.7.32</pre></td></tr></table></figure><ol start="2"><li>启动容器</li></ol><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run -d -p <span class="token number">7777</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root --name mysql5.7 mysql:5.7.32 </pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">#MYSQL_ROOT_PASSWORD 指定 root 用户的密码</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#注意：这样启动的话，数据库是没有备份的，也就是说 docker 服务一旦停止，数据库中的数据也会全部清空</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>docker run -d -p <span class="token number">7777</span>:3306 -v mysqldata:/var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root --name mysql5.7 mysql:5.7.32</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">#使用数据卷与 mysql 中存储的数据位置绑定，这样就不会出现数据丢失清空</span></pre></td></tr></table></figure><ol start="3"><li>root 用户远程登录访问</li></ol><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre>mysql<span class="token operator">></span> update user set host <span class="token operator">=</span> <span class="token string">'%'</span> where user <span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>mysql<span class="token operator">></span> flush privileges<span class="token punctuation">;</span></pre></td></tr></table></figure><p>docker run -d -p 3306:3306 -v mysqldata:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root --name mysql5.7 mysql:5.7.32</p><h1 id="docker-安装redis"><a class="anchor" href="#docker-安装redis">#</a> Docker 安装 Redis</h1><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 下载镜像</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker pull redis:5.0.10</pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#编辑配置文件，去官网下载同版本的 redis , 将配置文件拷贝一份</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0             <span class="token comment">#修改配置文件远程主机</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>daemonize no <span class="token comment">#注意，必须为 no, 否则无法启动容器 这里我被坑了半个多小时</span></pre></td></tr><tr><td data-num="5"></td><td><pre>protected-mode no <span class="token comment">#关闭保护模式</span></pre></td></tr><tr><td data-num="6"></td><td><pre>requirepass <span class="token comment">#设置密码</span></pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#启动容器</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker run  -p <span class="token number">7777</span>:6379    <span class="token comment">#指定映射端口</span></pre></td></tr><tr><td data-num="3"></td><td><pre>-v /home/yingxue/redisconfig:/usr/local/etc/redis  <span class="token comment">#数据卷，映射到本地的 redis.conf</span></pre></td></tr><tr><td data-num="4"></td><td><pre>-v redisdata:/data  <span class="token comment">#映射数据</span></pre></td></tr><tr><td data-num="5"></td><td><pre>-d <span class="token comment">#后台启动</span></pre></td></tr><tr><td data-num="6"></td><td><pre>--name myredis  <span class="token comment">#起别名</span></pre></td></tr><tr><td data-num="7"></td><td><pre>redis:5.0.10 </pre></td></tr><tr><td data-num="8"></td><td><pre>redis-server /usr/local/etc/redis/redis.conf  <span class="token comment"># 以配置文件运行</span></pre></td></tr></table></figure><p>docker run -p 6379:6379 -v /home/wyh/myredis:/usr/local/etc/redis -v redisdata:/data -d --name myredis redis:5.0.10 redis-server /usr/local/etc/redis/redis.conf</p><h1 id="docker安装rabbitmq"><a class="anchor" href="#docker安装rabbitmq">#</a> Docker 安装 rabbitmq</h1><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker pull rabbitmq:3.7.18-management-alpine</pre></td></tr><tr><td data-num="2"></td><td><pre> </pre></td></tr><tr><td data-num="3"></td><td><pre> docker run -dit --name Myrabbitmq -e <span class="token assign-left variable">RABBITMQ_DEFAULT_USER</span><span class="token operator">=</span>admin -e <span class="token assign-left variable">RABBITMQ_DEFAULT_PASS</span><span class="token operator">=</span>admin -p <span class="token number">15672</span>:15672 -p <span class="token number">5672</span>:5672 rabbitmq:3.7.18-management-alpine</pre></td></tr></table></figure><h1 id="doker安装elasticsearch"><a class="anchor" href="#doker安装elasticsearch">#</a> Doker 安装 ElasticSearch</h1><figure class="highlight markdown"><figcaption data-lang="markdown"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 准备好 elasticsearch.yml</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>cluster.name: "docker-cluster"</pre></td></tr><tr><td data-num="4"></td><td><pre>network.host: 0.0.0.0</pre></td></tr><tr><td data-num="5"></td><td><pre>xpack.security.enabled: true #开启安全</pre></td></tr></table></figure><blockquote><h2 id="启动容器"><a class="anchor" href="#启动容器">#</a> 启动容器</h2></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run <span class="token operator">--</span>name myes <span class="token operator">-</span>d <span class="token operator">-</span>p <span class="token number">9200</span><span class="token operator">:</span><span class="token number">9200</span> <span class="token operator">-</span>p <span class="token number">9300</span><span class="token operator">:</span><span class="token number">9300</span> <span class="token operator">-</span>e  discovery<span class="token punctuation">.</span>type<span class="token operator">=</span>single<span class="token operator">-</span>node <span class="token operator">-</span>e ES_JAVA_OPTS<span class="token operator">=</span><span class="token string">"-Xms64m -Xmx128m"</span> <span class="token operator">-</span>v esdata<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>data <span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">-</span>es<span class="token operator">/</span>plugins<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>plugins  <span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>yingxue<span class="token operator">/</span>config<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>config elasticsearch<span class="token operator">:</span><span class="token number">6.8</span><span class="token number">.0</span></pre></td></tr></table></figure><blockquote><h2 id="设置密码"><a class="anchor" href="#设置密码">#</a> 设置密码</h2><ul><li>cd bin/</li><li>elasticsearch-setup-passwords interactive</li></ul></blockquote><blockquote><h2 id="安装ik分词器插件"><a class="anchor" href="#安装ik分词器插件">#</a> 安装 ik 分词器插件</h2></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker <span class="token builtin class-name">exec</span> -it es容器id <span class="token function">bash</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">cd</span> bin/</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>elasticsearch-plugin <span class="token function">install</span> https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.8.0/elasticsearch-analysis-ik-6.8.0.zip</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token builtin class-name">exit</span></pre></td></tr></table></figure><blockquote><h2 id="采坑日记"><a class="anchor" href="#采坑日记">#</a> 采坑日记</h2></blockquote><figure class="highlight markdown"><figcaption data-lang="markdown"></figcaption><table><tr><td data-num="1"></td><td><pre>如果kibana启动的过程中出现</pre></td></tr><tr><td data-num="2"></td><td><pre>Unable to retrieve version information from Elasticsearch nodes.</pre></td></tr><tr><td data-num="3"></td><td><pre>在kibana.yml文件中配置连接es的内网ip</pre></td></tr><tr><td data-num="4"></td><td><pre>或者</pre></td></tr><tr><td data-num="5"></td><td><pre>使用docker run --name kibana -e ELASTICSEARCH_HOSTS=http://172.17.0.2:9200 -p 5601:5601 -d kibana:7.13.3</pre></td></tr><tr><td data-num="6"></td><td><pre>其中172.17.0.2:9200为docker中es的内网ip</pre></td></tr></table></figure><h1 id="docker安装kinaba"><a class="anchor" href="#docker安装kinaba">#</a> Docker 安装 kinaba</h1><blockquote><h2 id="下载镜像"><a class="anchor" href="#下载镜像">#</a> 下载镜像</h2></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker pull kibana:6.8.0</pre></td></tr></table></figure><figure class="highlight markdown"><figcaption data-lang="markdown"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 准备好 kibana.yml</span></pre></td></tr><tr><td data-num="2"></td><td><pre>server.host:  0.0.0.0  	       </pre></td></tr><tr><td data-num="3"></td><td><pre>elasticsearch.hosts: ["http://localhost:9200"]    </pre></td></tr><tr><td data-num="4"></td><td><pre>elasticsearch.username: "elastic"</pre></td></tr><tr><td data-num="5"></td><td><pre>elasticsearch.password: "*****"</pre></td></tr></table></figure><blockquote><h2 id="运行容器"><a class="anchor" href="#运行容器">#</a> 运行容器</h2></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run --name kibana -p <span class="token number">5601</span>:5601 -v /home/docker-es/kibana.yml:/usr/share/kibana/config/kibana.yml  kibana:6.8.0</pre></td></tr></table></figure><blockquote><h5 id="注意如果出现"><a class="anchor" href="#注意如果出现">#</a> 注意，如果出现</h5><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>closed: <span class="token punctuation">[</span>index_closed_exception<span class="token punctuation">]</span> closed, with <span class="token punctuation">&#123;</span> <span class="token assign-left variable">index_uuid</span><span class="token operator">=</span>“dTwMZmOvQc-XI-XD<span class="token operator">&amp;</span> <span class="token assign-left variable">index</span><span class="token operator">=</span><span class="token punctuation">\</span>“.kibana<span class="token punctuation">\</span>“ <span class="token punctuation">&#125;</span>“,“</pre></td></tr></table></figure></blockquote><p>说明没有打开.kibana 索引</p><p>使用 Aipfox 发送 post 请求</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>http://用户名:密码@ip:port/.kibana/_open</pre></td></tr></table></figure><p>重启即可</p><h1 id="docker安装nginx"><a class="anchor" href="#docker安装nginx">#</a> Docker 安装 Nginx</h1><figure class="highlight markdown"><figcaption data-lang="markdown"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 拉取镜像</span></pre></td></tr><tr><td data-num="2"></td><td><pre>docker pull nginx:版本号</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 启动容器,先拷贝一份配置文件</span></pre></td></tr><tr><td data-num="5"></td><td><pre>docker run -p 80:80 --name nginx \</pre></td></tr><tr><td data-num="6"></td><td><pre>-v /mydata/nginx/html:/usr/share/nginx/html \</pre></td></tr><tr><td data-num="7"></td><td><pre>-v /mydata/nginx/logs:/var/log/nginx \</pre></td></tr><tr><td data-num="8"></td><td><pre>-d nginx:1.10</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 将容器内的配置文件拷贝到指定目录：</span></pre></td></tr><tr><td data-num="11"></td><td><pre>docker container cp nginx:/etc/nginx /mydata/nginx/</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 修改文件名称：</span></pre></td></tr><tr><td data-num="14"></td><td><pre>mv nginx conf</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 终止并删除容器：</span></pre></td></tr><tr><td data-num="17"></td><td><pre>docker stop nginx</pre></td></tr><tr><td data-num="18"></td><td><pre>docker rm nginx</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token title important"><span class="token punctuation">#</span> 使用docker运行容器</span></pre></td></tr><tr><td data-num="21"></td><td><pre>docker run -p 80:80 --name nginx -v /Users/wyh/docker-nginx/html:/usr/share/nginx/html -v /Users/wyh/docker-nginx/logs:/var/log/nginx -v  /Users/wyh/docker-nginx/conf:/etc/nginx -d nginx:1.20</pre></td></tr></table></figure><h1 id="dockerfile"><a class="anchor" href="#dockerfile">#</a> Dockerfile</h1><h2 id="简介-2"><a class="anchor" href="#简介-2">#</a> 简介</h2><p>镜像的构建文件</p><blockquote><p>什么是 Dockerfile</p></blockquote><p>定义：用来帮助我们自己构建一个自定义镜像 Dockerfile 成为镜像构建文件 描述文件</p><blockquote><p>为什么要存在 Dockerfile</p></blockquote><p>问题：在 dockerhub 中官方提供很多镜像已经能满足我们的所有服务了，为什么嘛还需要自定义镜像</p><p>核心作用：日后用户可以将自己应用打包成镜像，这样就可以让我们进行容器运行</p><h2 id="dockerfile保留指令"><a class="anchor" href="#dockerfile保留指令">#</a> Dockerfile 保留指令</h2><table><thead><tr><th>保留字</th><th>作用</th></tr></thead><tbody><tr><td>FROM</td><td>当前镜像是基于哪个镜像的，<strong> 第一个指令必须是 FROM</strong></td></tr><tr><td>MAINTAINER</td><td>镜像维护者的姓名和邮箱地址</td></tr><tr><td>RUN</td><td>构建镜像时需要运行的指令</td></tr><tr><td>EXPOSE</td><td>当前容器对外暴露出的端口号</td></tr><tr><td>WORKDIR</td><td>指定在创建容器后，始终默认登录进来的工作目录，一个落脚点</td></tr><tr><td>ENV</td><td>用来在构建镜像过程中设置环境变量</td></tr><tr><td>ADD</td><td>将宿主机下的文件拷贝进镜像且 ADD 命令会自动处理 URL 和解压 tar 包</td></tr><tr><td>COPY</td><td>类似于 ADD, 拷贝文件和目录到镜像中 &lt;br&gt; 将从构建上下文目录 &lt; 原路径 &gt; 的文件 / 目录复制到新的一层的镜像内的 &lt; 目标路径 &gt; 位置</td></tr><tr><td>VOLUME</td><td>容器数据卷，用于数据保存和持久化工作</td></tr><tr><td>CMD</td><td>指定一个容器启动时要运行的命令 &lt;br&gt;Dockerfile 中科院有多个 CMD 命令，但只有最后一个生效，CMD 会被 docker run 之后的参数替换</td></tr><tr><td>ENTRYPOINT</td><td>指定一个容器启动时要运行的命令 &lt;br&gt;ENTRYPOINT 的目的和 CMD 一样，都是指定容器启动程序及其参数</td></tr></tbody></table><p>注意:</p><p>CMD 和 ENTRYPOINT 配合使用要用 JSON 字符串方式</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>ENTRYPOINT <span class="token punctuation">[</span><span class="token string">'java'</span>,<span class="token string">"-jar"</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>CMD <span class="token punctuation">[</span><span class="token string">"demo.jar"</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#可以通过容器启动后的参数对 CMD 进行替换</span></pre></td></tr></table></figure><blockquote><p>构建镜像</p></blockquote><p><code>docker build -t 镜像名 .</code> : 将当前目录作为上下文目录构建镜像</p><h1 id="dockerfile构建spirngboot项目"><a class="anchor" href="#dockerfile构建spirngboot项目">#</a> Dockerfile 构建 Spirngboot 项目</h1><ol><li>先准备好一个简单 springboot 项目</li></ol><p><img data-src="https://tva1.sinaimg.cn/large/008i3skNgy1gtffr33i4lj60pk0eujs602.jpg" alt="image-20210813203044285"></p><ol start="2"><li>Maven 打包</li></ol><p><img data-src="https://tva1.sinaimg.cn/large/008i3skNgy1gtffrnmscxj60qg0mumy102.jpg" alt="image-20210813203118138"></p><ol start="3"><li>将 jar 包传输到服务器的上下文目录下</li></ol><p><img data-src="https://tva1.sinaimg.cn/large/008i3skNgy1gtffskz0vpj61c807wgnq02.jpg" alt="image-20210813203210974"></p><ol start="4"><li>编辑 Dockerfile</li></ol><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>FROM openjdk:8-jre <span class="token comment">#基于哪个镜像进行构建</span></pre></td></tr><tr><td data-num="2"></td><td><pre>EXPOSE <span class="token number">7777</span> <span class="token comment">#暴露项目运行端口</span></pre></td></tr><tr><td data-num="3"></td><td><pre>WORKDIR /app <span class="token comment">#设置进入容器时的默认位置，不存在的话会自动创建</span></pre></td></tr><tr><td data-num="4"></td><td><pre>ADD demo-0.0.1-SNAPSHOT.jar app.jar <span class="token comment">#将名字为 demo-0.0.1-SNAPSHOT.jar 复制到工作目录，同时改名为 app.jar</span></pre></td></tr><tr><td data-num="5"></td><td><pre>ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"java"</span>,<span class="token string">"-jar"</span><span class="token punctuation">]</span> <span class="token comment">#启动应用</span></pre></td></tr><tr><td data-num="6"></td><td><pre>CMD <span class="token punctuation">[</span><span class="token string">"app.jar"</span><span class="token punctuation">]</span> <span class="token comment">#执行 jar 名称</span></pre></td></tr></table></figure><ol start="5"><li>执行构建</li></ol><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker build -t 镜像名</pre></td></tr></table></figure><ol start="6"><li>运行容器</li></ol><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run -d -p <span class="token number">7777</span>:7777 --name demo 镜像名</pre></td></tr></table></figure><h1 id="docker-compose"><a class="anchor" href="#docker-compose">#</a> Docker Compose</h1><h2 id="简介-3"><a class="anchor" href="#简介-3">#</a> 简介</h2><p>Compose 项目是 Docker 官方的开源项目，负责实现对 Docker 容器集群的快速编排.</p><p>Compose 定位是运行多个 Docker 容器的应用同时可以对多个容器进行编排</p><h2 id="核心概念"><a class="anchor" href="#核心概念">#</a> 核心概念</h2><ul><li><p><code>服务(service)</code> : 一个应用容器，一个服务对应一个应用容器，服务可以存在多个</p></li><li><p><code>项目(project)</code> : 由一组关联的应用容器组成一个完整业务单元，在 <code>docker-compose.yml</code> 文件中定义</p></li></ul><h2 id="下载docker-compose"><a class="anchor" href="#下载docker-compose">#</a> 下载 docker-compose</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">curl</span> -L https://github.com/docker/compose/releases/download/1.25.5/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -s<span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -m<span class="token variable">`</span></span> <span class="token operator">></span> /usr/local/bin/docker-compose</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose <span class="token comment">#赋予可执行文件</span></pre></td></tr></table></figure><h2 id="使用docker-compose"><a class="anchor" href="#使用docker-compose">#</a> 使用 docker-compose</h2><ol><li>创建一个 docker-compose.yml 文件</li><li>在配置文件中定义一个项目存在哪些服务</li></ol><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.0"</span> <span class="token comment">#版本，建议不超过 4.0</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token key atrule">services</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token key atrule">tomcat</span><span class="token punctuation">:</span> <span class="token comment">#服务名称唯一</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token key atrule">image</span><span class="token punctuation">:</span> tomcat<span class="token punctuation">:</span>8.0<span class="token punctuation">-</span>jre8 <span class="token comment">#创建当前这个服务使用的镜像</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token key atrule">ports</span><span class="token punctuation">:</span> <span class="token comment">#映射端口</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		 <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">8080</span></pre></td></tr></table></figure><ol start="3"><li>docker-compose up 启动这个项目所有服务，必须保证运行命令的目录存在 docker-compose.yml</li></ol><blockquote><p>docker-compose 命令模板</p></blockquote><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.0"</span> <span class="token comment">#版本，建议不超过 4.0</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token key atrule">services</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token key atrule">demo</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token key atrule">build</span><span class="token punctuation">:</span> <span class="token comment">#启动服务时先将 build 命令中指定 dockerfile 打包成镜像，再运行该镜像</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      <span class="token key atrule">context</span><span class="token punctuation">:</span> ../dockerfile <span class="token comment">#指定上下文目录 Dockerfile 所在目录</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> demo</pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token key atrule">ports</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">-</span> <span class="token string">"8081:8081"</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token key atrule">networks</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>      <span class="token punctuation">-</span> hello</pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token punctuation">-</span> tomcat</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token key atrule">tomcat</span><span class="token punctuation">:</span> <span class="token comment">#服务名称唯一</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> tomcat8 <span class="token comment">#容器名</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token key atrule">image</span><span class="token punctuation">:</span> tomcat<span class="token punctuation">:</span>8.0<span class="token punctuation">-</span>jre8 <span class="token comment">#创建当前这个服务使用的镜像</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token key atrule">ports</span><span class="token punctuation">:</span> <span class="token comment">#映射端口</span></pre></td></tr><tr><td data-num="22"></td><td><pre>     <span class="token punctuation">-</span> <span class="token string">"8080:8080"</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span> <span class="token comment">#完成宿主机与容器中目录数据卷的共享</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token punctuation">-</span> mytomcat<span class="token punctuation">:</span>/usr/local/tomcat/webapps</pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token key atrule">networks</span><span class="token punctuation">:</span> <span class="token comment">#代表当前服务使用的是哪个网桥</span></pre></td></tr><tr><td data-num="26"></td><td><pre>      <span class="token punctuation">-</span> hello</pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>  <span class="token key atrule">mysql</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql5.7 <span class="token comment">#容器名</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span>5.7.32</pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token key atrule">ports</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token punctuation">-</span> <span class="token string">"7777:3306"</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="34"></td><td><pre>      <span class="token punctuation">-</span> mysqldata<span class="token punctuation">:</span>/var/lib/mysql</pre></td></tr><tr><td data-num="35"></td><td><pre>      <span class="token punctuation">-</span> mysqlconf<span class="token punctuation">:</span>/etc/mysql</pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token key atrule">environment</span><span class="token punctuation">:</span> <span class="token comment">#环境变量 相当于 run -e</span></pre></td></tr><tr><td data-num="37"></td><td><pre>      <span class="token punctuation">-</span> MYSQL_ROOT_PASSWORD=root</pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token key atrule">networks</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="39"></td><td><pre>      <span class="token punctuation">-</span> hello</pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="41"></td><td><pre>      <span class="token punctuation">-</span> tomcat <span class="token comment">#代表这个容器必须依赖于哪些容器启动之后才能启动，必须写服务名而不是容器名</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>   <span class="token comment"># command:  #用来覆盖容器启动默认指令 例如 redis command: redis-server /usr/redis/conf/redis.conf</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token comment">#    healthcheck: #心跳 机制</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment">#      test: ['CMD',"curl","-f","http://localhost"]</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token comment">#      interval: 1m30s</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token comment">#      timeout: 10s</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token comment">#      retries: 3</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token comment">#</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token comment">#    sysctls: #修改容器内系统的参数</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment">#      - net.core.somaxconn=1024</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token comment">#      - net.ipv4.top_syncookies=0</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token comment">#</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token comment">#    ulimits: #用来修改容器内系统参数</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token comment">#      nproc: 65535</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token comment">#      nofile:</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token comment">#        soft: 20000</span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token comment">#        hard: 40000</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token key atrule">volumes</span><span class="token punctuation">:</span> <span class="token comment">#声明上面服务所使用的自动创建卷名</span></pre></td></tr><tr><td data-num="62"></td><td><pre>  <span class="token key atrule">mytomcat</span><span class="token punctuation">:</span> <span class="token comment">#声明指令的卷名  compose 自动创建该卷名但是会在之前加入项目名</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    <span class="token key atrule">external</span><span class="token punctuation">:</span> <span class="token comment">#使用自定义卷名</span></pre></td></tr><tr><td data-num="64"></td><td><pre>      false <span class="token comment">#true 确定使用指定卷名，一旦外部自定义卷名，启动服务之前必须手动创建</span></pre></td></tr><tr><td data-num="65"></td><td><pre>  <span class="token key atrule">mysqldata</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="66"></td><td><pre>  <span class="token key atrule">mysqlconf</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="67"></td><td><pre></pre></td></tr><tr><td data-num="68"></td><td><pre><span class="token key atrule">networks</span><span class="token punctuation">:</span> <span class="token comment">#定义服务用到的桥</span></pre></td></tr><tr><td data-num="69"></td><td><pre>  <span class="token key atrule">hello</span><span class="token punctuation">:</span> <span class="token comment">#定义上面的服务用到的网桥 名称</span></pre></td></tr></table></figure><h2 id="docker-compose的命令"><a class="anchor" href="#docker-compose的命令">#</a> docker-compose 的命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docer-compose<span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARGS<span class="token punctuation">..</span>.<span class="token punctuation">]</span></pre></td></tr></table></figure><blockquote><p>命令选项</p></blockquote><ul><li><code>-f</code> : 指定使用 Compose 模板文件，默认为 <code>docker-compose.yml</code> , 可以多次指定</li><li><code>-p</code> : 指定项目名称，默认将使用所在目录名称作为项目名</li><li><code>--verbose</code> : 输出更多调试信息</li><li><code>-v</code> : 打印版本并退出</li></ul><blockquote><p>命令使用说明</p></blockquote><ul><li><code>up</code></li></ul><p>格式为 <code>docker-compose up [options] [SERVICE...]</code></p><p>如果使用 <code>docker-compose up -d</code> , 将会在后台启动并运行所有的容器。一般推荐生成环境下使用该选项</p><ul><li><code>down</code></li></ul><p>作用：用来关闭所有 docker-compose 服务</p><ul><li><code>exec</code></li></ul><p>作用；进入容器</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docer-compose <span class="token builtin class-name">exec</span> redis<span class="token punctuation">(</span>docker-compose.yml中声明的服务名称<span class="token punctuation">)</span> <span class="token function">bash</span></pre></td></tr></table></figure><ul><li><code>ps</code></li></ul><p>作用：用来展示当前 docker-compose 运行所有的容器</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compose <span class="token function">ps</span></pre></td></tr></table></figure><ul><li><code>Restart 指令</code></li></ul><p>作用：用来重启项目中某个服务如果不写服务 id, 默认重启所有服务</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compose restart<span class="token punctuation">[</span>服务id<span class="token punctuation">]</span></pre></td></tr></table></figure><ul><li><code>rm</code></li></ul><p>作用：用来删除项目服务</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compsoe <span class="token function">rm</span> -fv <span class="token punctuation">[</span>服务id<span class="token punctuation">]</span> <span class="token comment">#z 注意:-v 会删除服务的数据卷</span></pre></td></tr></table></figure><ul><li><code>start</code></li></ul><p>作用：启动服务</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compose start <span class="token punctuation">[</span>服务id<span class="token punctuation">]</span> <span class="token comment">#如果不加服务 id, 默认启动所有服务</span></pre></td></tr></table></figure><ul><li><code>stop</code></li></ul><p>作用：关闭服务</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compose stop <span class="token punctuation">[</span>服务id<span class="token punctuation">]</span> <span class="token comment">#如果不加服务 id, 默认关闭所有服务</span></pre></td></tr></table></figure><ul><li><code>top</code></li></ul><p>作用：用来查看 compose 容器内运行进程</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docer-compose <span class="token function">top</span></pre></td></tr></table></figure><ul><li><code>unpause</code></li></ul><p>作用：开启服务</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compose unpause 服务id</pre></td></tr></table></figure><ul><li><code>pause</code></li></ul><p>作用：暂停服务</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compose pause 服务id</pre></td></tr></table></figure><ul><li><code>logs</code></li></ul><p>作用：查看服务日志</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker-compose logs 服务id</pre></td></tr></table></figure><h1 id="docker可视化工具-portrainer"><a class="anchor" href="#docker可视化工具-portrainer">#</a> docker 可视化工具 Portrainer</h1><blockquote><p>下载可视化工具</p></blockquote><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre>docker pull portainer<span class="token operator">/</span>portainer</pre></td></tr></table></figure><blockquote><p>启动 portainer</p></blockquote><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>docker run -d </pre></td></tr><tr><td data-num="2"></td><td><pre>-p <span class="token number">8000</span>:8000 </pre></td></tr><tr><td data-num="3"></td><td><pre>-p <span class="token number">9000</span>:9000 </pre></td></tr><tr><td data-num="4"></td><td><pre>--name<span class="token operator">=</span>portainer </pre></td></tr><tr><td data-num="5"></td><td><pre>--restart<span class="token operator">=</span>always</pre></td></tr><tr><td data-num="6"></td><td><pre>-v /var/run/docker.sock:/var/run/docker.sock </pre></td></tr><tr><td data-num="7"></td><td><pre>-v portainer_data:/data</pre></td></tr><tr><td data-num="8"></td><td><pre>portainer/portainer</pre></td></tr></table></figure><div class="tags"><a href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag"><i class="ic i-tag"></i> 容器</a> <a href="/tags/docker/" rel="tag"><i class="ic i-tag"></i> docker</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-10-21 19:21:24" itemprop="dateModified" datetime="2021-10-21T19:21:24+08:00">2021-10-21</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>故犹 <i class="ic i-at"><em>@</em></i>努力走,走到灯火通明</li><li class="link"><strong>本文链接：</strong> <a href="https://guyouwyh.github.io/guyouwyh/2021/10/21/%E8%BF%90%E7%BB%B4/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker的学习笔记">https://guyouwyh.github.io/guyouwyh/2021/10/21/运维/docker学习笔记/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/10/21/%E6%9D%82%E8%B0%88/2021/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;15&#x2F;kwmo6aiQbGenNqs.jpg" title="2021下的一些期望"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 杂谈</span><h3>2021下的一些期望</h3></a></div><div class="item right"><a href="/2021/10/21/%E5%89%8D%E7%AB%AF/Js/JavaScript%E9%AB%98%E7%BA%A7/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;15&#x2F;fqp9bDFPBEIHCz5.jpg" title="JavaCript高级"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> JavaScript</span><h3>JavaCript高级</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85docker"><span class="toc-number">2.</span> <span class="toc-text">安装 Docker</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E7%9A%84%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84%E5%92%8C%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">3.</span> <span class="toc-text">Docker 的核心架构和核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8Fimage"><span class="toc-number">3.1.</span> <span class="toc-text">镜像 (image)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8container"><span class="toc-number">3.2.</span> <span class="toc-text">容器 (container)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%93%E5%BA%93respository"><span class="toc-number">3.3.</span> <span class="toc-text">仓库 (respository)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E9%95%9C%E5%83%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">4.</span> <span class="toc-text">Docker 镜像操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dokcer%E5%AE%B9%E5%99%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text">Dokcer 容器操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E5%88%86%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">6.</span> <span class="toc-text">镜像分层原理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E6%A1%A5%E6%9C%BA%E5%88%B6"><span class="toc-number">7.</span> <span class="toc-text">网桥机制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">8.</span> <span class="toc-text">数据卷</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="toc-number">9.</span> <span class="toc-text">docker 核心架构图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E5%AE%89%E8%A3%85mysql"><span class="toc-number">10.</span> <span class="toc-text">Docker 安装 Mysql</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker-%E5%AE%89%E8%A3%85redis"><span class="toc-number">11.</span> <span class="toc-text">Docker 安装 Redis</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E5%AE%89%E8%A3%85rabbitmq"><span class="toc-number">12.</span> <span class="toc-text">Docker 安装 rabbitmq</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#doker%E5%AE%89%E8%A3%85elasticsearch"><span class="toc-number">13.</span> <span class="toc-text">Doker 安装 ElasticSearch</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"><span class="toc-number">13.1.</span> <span class="toc-text">启动容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="toc-number">13.2.</span> <span class="toc-text">设置密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85ik%E5%88%86%E8%AF%8D%E5%99%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">13.3.</span> <span class="toc-text">安装 ik 分词器插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%87%E5%9D%91%E6%97%A5%E8%AE%B0"><span class="toc-number">13.4.</span> <span class="toc-text">采坑日记</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E5%AE%89%E8%A3%85kinaba"><span class="toc-number">14.</span> <span class="toc-text">Docker 安装 kinaba</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F"><span class="toc-number">14.1.</span> <span class="toc-text">下载镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%AE%B9%E5%99%A8"><span class="toc-number">14.2.</span> <span class="toc-text">运行容器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0"><span class="toc-number">14.2.0.0.1.</span> <span class="toc-text">注意，如果出现</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E5%AE%89%E8%A3%85nginx"><span class="toc-number">15.</span> <span class="toc-text">Docker 安装 Nginx</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dockerfile"><span class="toc-number">16.</span> <span class="toc-text">Dockerfile</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B-2"><span class="toc-number">16.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dockerfile%E4%BF%9D%E7%95%99%E6%8C%87%E4%BB%A4"><span class="toc-number">16.2.</span> <span class="toc-text">Dockerfile 保留指令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dockerfile%E6%9E%84%E5%BB%BAspirngboot%E9%A1%B9%E7%9B%AE"><span class="toc-number">17.</span> <span class="toc-text">Dockerfile 构建 Spirngboot 项目</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker-compose"><span class="toc-number">18.</span> <span class="toc-text">Docker Compose</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B-3"><span class="toc-number">18.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">18.2.</span> <span class="toc-text">核心概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BDdocker-compose"><span class="toc-number">18.3.</span> <span class="toc-text">下载 docker-compose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8docker-compose"><span class="toc-number">18.4.</span> <span class="toc-text">使用 docker-compose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-compose%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">18.5.</span> <span class="toc-text">docker-compose 的命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7-portrainer"><span class="toc-number">19.</span> <span class="toc-text">docker 可视化工具 Portrainer</span></a></li></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2021/10/21/%E8%BF%90%E7%BB%B4/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="bookmark" title="Docker的学习笔记">Docker的学习笔记</a></li><li><a href="/2021/10/21/%E8%BF%90%E7%BB%B4/linux%E5%9F%BA%E7%A1%80/" rel="bookmark" title="linux基础">linux基础</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="故犹" data-src="/images/avatar.jpg"><p class="name" itemprop="name">故犹</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">149</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">33</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">82</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2d1eW91d3lo" title="https:&#x2F;&#x2F;github.com&#x2F;guyouwyh"><i class="ic i-github"></i></span> <a href="/821403296@qq.com" title="821403296@qq.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-link"></i>友链</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-magic"></i>常用网站</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/10/21/%E6%9D%82%E8%B0%88/2021/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/10/21/%E5%89%8D%E7%AB%AF/Js/JavaScript%E9%AB%98%E7%BA%A7/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" title="分类于 Java基础">Java基础</a></div><span><a href="/2021/10/21/%E5%90%8E%E7%AB%AF/Java/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" title="Java异常处理">Java异常处理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/" title="分类于 搜索">搜索</a></div><span><a href="/2021/11/10/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/%E8%A2%AB%E5%9B%B4%E7%BB%95%E7%9A%84%E5%8C%BA%E5%9F%9F/" title="【力扣】130.被围绕的区域">【力扣】130.被围绕的区域</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="分类于 动态规划">动态规划</a></div><span><a href="/2022/01/25/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%20kkksc03%E8%80%83%E5%89%8D%E4%B8%B4%E6%97%B6%E6%8A%B1%E4%BD%9B%E8%84%9A/" title="【洛谷】kkksc03考前临时抱佛脚">【洛谷】kkksc03考前临时抱佛脚</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E6%A8%A1%E6%8B%9F/" title="分类于 模拟">模拟</a></div><span><a href="/2022/03/29/%E7%AE%97%E6%B3%95/%E6%A8%A1%E6%8B%9F/%E5%AD%97%E7%AC%A6%E6%B5%81%E4%B8%AD%E7%AC%AC%E4%B8%80%E4%B8%AA%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E5%AD%97%E7%AC%A6/" title="【牛客】JZ75 字符流中第一个不重复的字符">【牛客】JZ75 字符流中第一个不重复的字符</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF/HTML/" title="分类于 HTML">HTML</a></div><span><a href="/2021/10/20/%E5%89%8D%E7%AB%AF/HTML/HTML%E7%AC%94%E8%AE%B0/" title="HTML笔记">HTML笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" title="分类于 Java基础">Java基础</a></div><span><a href="/2021/10/20/%E5%90%8E%E7%AB%AF/Java/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1(%E4%BA%8C)/" title="Java面向对象(二)">Java面向对象(二)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83/" title="分类于 贪心">贪心</a></div><span><a href="/2021/10/27/%E7%AE%97%E6%B3%95/%E8%B4%AA%E5%BF%83/%E8%B7%B3%E8%B7%83%E6%B8%B8%E6%88%8F2/" title="【力扣】45.跳跃游戏2">【力扣】45.跳跃游戏2</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="分类于 动态规划">动态规划</a></div><span><a href="/2021/10/28/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/%E6%9C%80%E4%BD%B3%E4%B9%B0%E8%82%A1%E7%A5%A8%E6%97%B6%E6%9C%BA%E5%90%AB%E5%86%B7%E5%86%BB%E6%9C%9F/" title="【力扣】309.最佳买股票时机含冷冻期">【力扣】309.最佳买股票时机含冷冻期</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95/" title="分类于 算法">算法</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%AE%97%E6%B3%95/%E4%BD%8D%E8%BF%90%E7%AE%97/" title="分类于 位运算">位运算</a></div><span><a href="/2022/03/29/%E7%AE%97%E6%B3%95/%E4%BD%8D%E8%BF%90%E7%AE%97/%E6%95%B0%E7%BB%84%E4%B8%AD%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E5%85%83%E7%B4%A0/" title="【牛客】数组中只出现一次的数字">【牛客】数组中只出现一次的数字</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%90%8E%E7%AB%AF/Java/" title="分类于 Java基础">Java基础</a></div><span><a href="/2021/10/21/%E5%90%8E%E7%AB%AF/Java/jvm4/" title="JVM笔记(四)-执行引擎">JVM笔记(四)-执行引擎</a></span></li></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">故犹 @ GuYou</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">517k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">7:50</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/10/21/运维/docker学习笔记/",favicon:{show:"加载中",hide:"OvO"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->